(self.webpackChunkNodes=self.webpackChunkNodes||[]).push([[200],{220:(e,t,r)=>{"use strict";r.a(e,(async(e,n)=>{try{r.d(t,{T:()=>h});var o=r(3696),i=r(7516),s=r.n(i),a=(r(5813),r(2674),r(2746),r(6779)),d=r(3354),c=r(6200),l=r(5304),u=(r(1110),r(7081),r(7424),r(602),r(3696)),p=e([c]);c=(p.then?(await p)():p)[0],s().config.setModuleUrl("ace/mode/javascript_worker",a.A);var m=function(e){e!==c.default.backgroundImageName&&c.default.setBackgroundImage(e,e)},f=function(e){try{var t=JSON.parse(e);c.default._setDefaultNodeProperties(t)}catch(e){}},h=function(e){var t=(0,o.useRef)(null),r=(0,o.useRef)(null),n=function(){null!==r.current&&f(r.current.editor.getValue())},i=JSON.stringify(c.default.defaultNodeProperties,null,3),s=(0,o.useMemo)((function(){return function(e){return u.createElement(d.Ay,{ref:e.refEditor,mode:"javascript",theme:"nodes_dark",name:"nodes-code-ace-editor",onFocus:function(){},onBlur:e.onBlur,onChange:f,width:"100%",height:"100%",fontSize:13,tabSize:3,wrapEnabled:!0,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:e.editorText,setOptions:{wrap:!0,wrapBehavioursEnabled:!0,showLineNumbers:!0,tabSize:3},editorProps:{$blockScrolling:1/0}})}({refEditor:r,editorText:i,onBlur:n})}),[i]);return u.createElement(u.Fragment,null,u.createElement("input",{ref:t,id:"nodes-editor-options-image-upload",type:"file",name:"file",onChange:function(e){!function(e){var t=e.target.files[0];if(void 0!==t&&t.type.startsWith("image")){var r=new FileReader;r.onload=function(e){c.default.setBackgroundImage(e.target.result,t.name)},r.readAsDataURL(t)}e.target.value=null}(e)}}),u.createElement("div",{className:"nodes-editor-panel-title"},"Options:"),u.createElement("div",{className:"nodes-editor-section-header"},"Global Territory Costs:"),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"Base:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:e.territoryCost.constant,onChange:function(t){return g(e.setTerritoryCost,parseInt(t),e.territoryCost.scale)}})),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"Scale:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:e.territoryCost.scale,onChange:function(t){return g(e.setTerritoryCost,e.territoryCost.constant,parseFloat(t))}})),u.createElement("div",{className:"nodes-editor-section-header"},"Default resource properties:"),u.createElement("div",{id:"nodes-ace-editor-default-resource-container"},s),u.createElement("div",{className:"nodes-editor-section-header"},"Background Image:"),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"URL:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:c.default.backgroundImageName,onChange:m}),u.createElement(l.$n,{id:"nodes-editor-options-upload-img-btn",onClick:function(){null!==t.current&&t.current.click()}},"Upload")),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"Origin X:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:c.default.backgroundImageOriginX,onChange:function(e){return c.default.setBackgroundImageOriginX(parseInt(e))}})),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"Origin Y:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:c.default.backgroundImageOriginY,onChange:function(e){return c.default.setBackgroundImageOriginY(parseInt(e))}})),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"Width:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:c.default.backgroundImageWidth,onChange:function(e){return c.default.setBackgroundImageWidth(parseInt(e))}})),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"Height:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:c.default.backgroundImageHeight,onChange:function(e){return c.default.setBackgroundImageHeight(parseInt(e))}})),u.createElement("div",{className:"nodes-editor-help"},u.createElement("div",null,"Background Image Help:"),u.createElement("div",null,"- Type image url in text box and press [Enter]"),u.createElement("div",null,"- Or upload file")))},g=function(e,t,r){isNaN(t)||isNaN(r)?console.error("Invalid number: NaN"):e(t,r)};n()}catch(e){n(e)}}))},398:(e,t,r)=>{"use strict";r.a(e,(async(e,n)=>{try{r.d(t,{$P:()=>i.$P,HK:()=>i.HK});var o=r(9936),i=r(9234),s=e([o]);o=(s.then?(await s)():s)[0],(0,i.lI)(o),o.__wbindgen_start(),n()}catch(e){n(e)}}))},602:(e,t,r)=>{"use strict";var n=r(5292),o=r.n(n),i=r(9893),s=r.n(i),a=r(9383),d=r.n(a),c=r(6884),l=r.n(c),u=r(9088),p=r.n(u),m=r(7997),f=r.n(m),h=r(2063),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=d().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),o()(h.A,g),h.A&&h.A.locals&&h.A.locals},662:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,"/**\n * list.css\n * --------------------------------------------------\n * CSS for a selection list component\n */\n\n.nodes-basic-list {\n    width: 100%;\n    height: 100%;\n    font-size: 16px;\n    overflow-y: scroll;\n}\n\n.nodes-basic-list:focus {\n    outline: 0;\n}\n\n.nodes-simple-select-list-item {\n    display: flex;\n    flex-direction: row;\n    white-space: nowrap;\n    height: 24px;\n    line-height: 24px;\n    padding: 2px;\n    vertical-align: middle;\n    align-items: center;\n    background-color: #111;\n}\n\n.nodes-simple-select-list-item-selected {\n    background-color: #333;\n}\n",""]);const a=s},719:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath d='m11.2889 7.4695-9.15338 5.2305 9.15338 5.2305 9.15338-5.2305z' fill='%23fff' fill-opacity='.490196' stroke='%23fff' stroke-width='1.30763'/%3e %3cpath d='m14.1111 4.80735v1.41111h2.82222v2.82222h1.41111v-2.82222h2.82222v-1.41111h-2.82222v-2.82222h-1.41111v2.82222z' fill='%23fff'/%3e %3c/svg%3e"},831:e=>{e.exports="data:image/svg+xml,%3c!-- Created with Inkscape (http://www.inkscape.org/) --%3e %3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.578 22.578' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cg fill='none' stroke='%23fff'%3e %3cpath d='m10.319325 10.00249-2.4693998-1.0583002-1.7639-3.175s-1.1027 2.3522-1.8083 3.2929c-0.7056 0.9407002-2.0715578 1.9858702-2.0715578 1.9858702l3.334096 1.912286-3.0077534 1.719903 9.896291 6.112773 7.397519-4.820688-2.717601-1.751507 3.556995-2.632095s-2.004589-1.358242-2.827789-2.3578422c-0.8232-0.9996-2.5797-4.52-2.5797-4.52l-1.7639 1.7639m2.1167 2.8222-1.4111-1.4111-2.8222-5.9972-4.2332998 5.6444' stroke-linecap='round' stroke-width='1.2347'/%3e %3cpath d='m9.6141252 4.7124898 0.7055598 1.4111 0.70556-1.0583 0.70556 0.70555 0.70556-1.0583' stroke-width='.35278001'/%3e %3cg%3e %3cpath d='m4.3224252 13.53249s1.5034753-0.434072 2.1190693-0.890174c0.4931212-0.36536 1.1416717-1.033505 1.1416717-1.033505' stroke-width='.52917188'/%3e %3cpath d='m9.5542973 19.051566 9.8753327-6.732097' stroke-width='.52917186'/%3e %3cg stroke-width='.52917188'%3e %3cpath d='m7.7037392 17.22984s2.8709888-1.697311 4.1740888-2.705011c1.2865-0.99477 6.117784-4.5484802 6.117784-4.5484802'/%3e %3cpath d='m5.1180744 15.763233s2.348488-1.30909 3.4655046-2.086169 2.679874-2.76158 2.679874-2.76158'/%3e %3cpath d='m18.74147 13.271512s-1.4111-1.0583-1.8035-1.3605c-1.6242-1.251-2.4299-2.1672004-2.4299-2.1672004'/%3e %3cpath d='m17.022325 14.58249s-1.727049-1.175765-2.5531-1.8142c-0.737536-0.570023-1.950736-1.762783-1.950736-1.762783'/%3e %3c/g%3e %3cpath d='m15.154004 19.047392-11.718838-7.29713' stroke-width='.52917186'/%3e %3cpath d='m17.529228 17.827501s-5.377653-3.273202-6.680853-4.280902c-1.3457523-0.876264-2.2604589-1.85943-2.2604589-1.85943' stroke-width='.52917188'/%3e %3c/g%3e %3c/g%3e %3c/svg%3e"},1110:()=>{ace.define("ace/theme/nodes_dark",["require","exports","module","ace/lib/dom"],(function(e,t,r){t.isDark=!0,t.cssClass="ace-nodes-dark",t.cssText=".ace-nodes-dark .ace_gutter {\nbackground: #111;\ncolor: #8F908A;\n}\n.ace-nodes-dark .ace_print-margin {\nwidth: 1px;\nbackground: #333;\n}\n.ace-nodes-dark {\nbackground-color: #111;\ncolor: #F8F8F2;\n}\n.ace-nodes-dark .ace_cursor {\ncolor: #F8F8F0;\n}\n.ace-nodes-dark .ace_marker-layer .ace_selection {\nbackground: #3A3A3A;\n}\n.ace-nodes-dark.ace_multiselect .ace_selection.ace_start {\nbox-shadow: 0 0 3px 0px #272822;\n}\n.ace-nodes-dark .ace_marker-layer .ace_step {\nbackground: rgb(102, 82, 0);\n}\n.ace-nodes-dark .ace_marker-layer .ace_bracket {\nmargin: -1px 0 0 -1px;\nborder: 1px solid #1A1A1A;\n}\n.ace-nodes-dark .ace_marker-layer .ace_active-line {\nbackground: #1A1A1A;\n}\n.ace-nodes-dark .ace_gutter-active-line {\nbackground-color: #1A1A1A;\n}\n.ace-nodes-dark .ace_marker-layer .ace_selected-word {\nborder: 1px solid #49483E;\n}\n.ace-nodes-dark .ace_invisible {\ncolor: #52524d;\n}\n.ace-nodes-dark .ace_entity.ace_name.ace_tag,\n.ace-nodes-dark .ace_keyword,\n.ace-nodes-dark .ace_meta.ace_tag,\n.ace-nodes-dark .ace_storage {\ncolor: #F92672;\n}\n.ace-nodes-dark .ace_punctuation,\n.ace-nodes-dark .ace_punctuation.ace_tag {\ncolor: #fff;\n}\n.ace-nodes-dark .ace_constant.ace_character,\n.ace-nodes-dark .ace_constant.ace_language,\n.ace-nodes-dark .ace_constant.ace_numeric,\n.ace-nodes-dark .ace_constant.ace_other {\ncolor: #fde240;\n}\n.ace-nodes-dark .ace_invalid {\ncolor: #F8F8F0;\nbackground-color: #F92672;\n}\n.ace-nodes-dark .ace_invalid.ace_deprecated {\ncolor: #F8F8F0;\nbackground-color: #AE81FF;\n}\n.ace-nodes-dark .ace_support.ace_constant,\n.ace-nodes-dark .ace_support.ace_function {\ncolor: #9B59B6;\n}\n.ace-nodes-dark .ace_fold {\nbackground-color: #A6E22E;\nborder-color: #F8F8F2\n}\n.ace-nodes-dark .ace_storage.ace_type,\n.ace-nodes-dark .ace_support.ace_class,\n.ace-nodes-dark .ace_support.ace_type {\ncolor: #66D9EF\n}\n.ace-nodes-dark .ace_entity.ace_name.ace_function,\n.ace-nodes-dark .ace_entity.ace_other,\n.ace-nodes-dark .ace_entity.ace_other.ace_attribute-name,\n.ace-nodes-dark .ace_variable {\ncolor: #FB786A;\n}\n.ace-nodes-dark .ace_variable.ace_parameter {\nfont-style: italic;\ncolor: #FD971F;\n}\n.ace-nodes-dark .ace_string {\ncolor: #A6E22E;\n}\n.ace-nodes-dark .ace_comment {\nfont-style: italic;\ncolor: #75715E;\n}\n.ace-nodes-dark .ace_indent-guide {\nbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y\n};\n",e("../lib/dom").importCssString(t.cssText,t.cssClass)}))},1218:e=>{e.exports="data:image/svg+xml,%3c!-- Created with Inkscape (http://www.inkscape.org/) --%3e %3csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' width='64pt' height='64pt' version='1.1' viewBox='0 0 22.578 22.578' id='svg38' sodipodi:docname='icon-tab-nodes.svg' inkscape:version='0.92.4 (5da689c313, 2019-01-14)'%3e %3cdefs id='defs42' /%3e %3csodipodi:namedview pagecolor='%23ffffff' bordercolor='%23666666' borderopacity='1' objecttolerance='10' gridtolerance='10' guidetolerance='10' inkscape:pageopacity='0' inkscape:pageshadow='2' inkscape:window-width='1920' inkscape:window-height='1057' id='namedview40' showgrid='true' inkscape:zoom='2.8284271' inkscape:cx='-2.8048338' inkscape:cy='-18.456695' inkscape:window-x='1912' inkscape:window-y='-8' inkscape:window-maximized='1' inkscape:current-layer='svg38'%3e %3cinkscape:grid type='xygrid' id='grid915' snapvisiblegridlinesonly='false' units='pt' spacingx='0.35278124' spacingy='0.35278124' enabled='false' /%3e %3c/sodipodi:namedview%3e %3cmetadata id='metadata2'%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3e %3cdc:title%3e%3c/dc:title%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:1.31279826;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='M 6.6267962,6.9626052 3.8350184,8.643778 v 9.377131 l 7.5017046,3.750854 7.501704,-3.750854 V 8.643778 L 16.410492,7.0429471' id='path917' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccccc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:1.31287535;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 3.8350184,8.643778 7.5017046,3.750853 7.501704,-3.750853' id='path919' inkscape:connector-curvature='0' sodipodi:nodetypes='ccc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:1.31279826;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 11.336723,12.394631 v 9.37713' id='path921' inkscape:connector-curvature='0' sodipodi:nodetypes='cc' /%3e %3cpath sodipodi:nodetypes='ccccc' inkscape:connector-curvature='0' id='path967' d='m 4.9990731,11.039885 0.9632015,0.468433 v 0.92748 L 4.9990731,11.958753 Z' style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.81006366;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3e %3cpath style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.81006366;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 8.5374626,12.522917 1.7228244,0.832672 v 0.92748 L 8.5374626,13.441786 Z' id='path977' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccc' /%3e %3cpath sodipodi:nodetypes='ccccc' inkscape:connector-curvature='0' id='path979' d='m 8.4568977,15.831341 1.7228253,0.902143 v 1.57125 L 8.4568977,17.393981 Z' style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.81006366;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3e %3cpath sodipodi:nodetypes='ccccccccc' inkscape:connector-curvature='0' id='path981' d='m 4.8861456,14.562893 0.9519756,0.467286 V 14.31767 l 1.3202154,0.618392 v 0.721797 l 0.5362514,0.28845 V 16.93643 L 4.8861456,15.499616 Z' style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.81006366;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3e %3cpath sodipodi:nodetypes='ccccc' inkscape:connector-curvature='0' id='path985' d='m 6.2404437,12.735604 1.7228252,0.832672 v 0.927479 L 6.2404437,13.654473 Z' style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.81006366;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3e %3cpath style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.81006366;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 6.6232802,17.145313 1.4108843,0.705059 v 0.92748 l -1.4108843,-0.71367 z' id='path987' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccc' /%3e %3cpath style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.81006366;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='M 13.562902,12.900302 12.5997,13.368734 v 0.927481 l 0.963202,-0.477045 z' id='path1000' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccc' /%3e %3cpath sodipodi:nodetypes='ccccc' inkscape:connector-curvature='0' id='path1002' d='m 17.44387,11.074702 -1.722825,0.832672 v 0.92748 l 1.722825,-0.841282 z' style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.81006366;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3e %3cpath style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.81006366;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 17.504382,14.162551 -1.722825,0.902143 v 1.57125 l 1.722825,-0.910753 z' id='path1004' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccc' /%3e %3cpath style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.81006366;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 15.159701,15.841793 -0.951976,0.467287 v -0.71251 l -1.320215,0.618393 v 0.721797 l -0.536252,0.28845 v 0.990121 l 2.808443,-1.436814 z' id='path1006' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccccccc' /%3e %3cpath style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.81006366;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 15.77053,13.312673 -1.722825,0.832672 v 0.92748 l 1.722825,-0.841282 z' id='path1008' inkscape:connector-curvature='0' sodipodi:nodetypes='ccccc' /%3e %3cpath sodipodi:nodetypes='ccccc' inkscape:connector-curvature='0' id='path1010' d='m 15.768687,17.301283 -1.410884,0.70506 v 0.92748 l 1.410884,-0.71367 z' style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.81006366;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.88195312;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='M 7.3913948,9.0219563 V 6.6406832 c 0,0 -0.182632,-0.2927582 -0.264586,-0.826831 -0.08195,-0.5340728 0.03307,-4.2995215 0.03307,-4.2995215 0,0 1.426226,1.9187967 1.492189,2.9092141 0.06596,0.9904174 -0.529172,2.4143468 -0.529172,2.4143468' id='path1048' inkscape:connector-curvature='0' sodipodi:nodetypes='cczczc' /%3e %3cpath sodipodi:nodetypes='cczczc' inkscape:connector-curvature='0' id='path1056' d='M 9.9715167,10.455774 V 8.0745012 c 0,0 -0.1826323,-0.2927582 -0.2645868,-0.826831 -0.08195,-0.5340728 0.03307,-4.2995215 0.03307,-4.2995215 0,0 1.4262271,1.9187967 1.4921901,2.9092141 0.06596,0.9904174 -0.529172,2.4143468 -0.529172,2.4143468' style='fill:none;stroke:%23ffffff;stroke-width:0.88195312;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.88195312;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='M 15.067583,9.2629078 V 6.8816347 c 0,0 -0.182632,-0.2927582 -0.264586,-0.826831 -0.08195,-0.5340728 0.03307,-4.2995214 0.03307,-4.2995214 0,0 1.426226,1.9187966 1.492189,2.909214 0.06596,0.9904174 -0.529172,2.4143468 -0.529172,2.4143468' id='path1058' inkscape:connector-curvature='0' sodipodi:nodetypes='cczczc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.88195312;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='M 12.518155,8.7525022 V 6.3712291 c 0,0 -0.182632,-0.2927582 -0.264586,-0.826831 -0.08195,-0.5340728 0.03307,-4.2995215 0.03307,-4.2995215 0,0 1.426226,1.9187967 1.492189,2.9092141 0.06596,0.9904174 -0.529172,2.4143468 -0.529172,2.4143468' id='path1078' inkscape:connector-curvature='0' sodipodi:nodetypes='cczczc' /%3e %3c/svg%3e"},1383:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.578 22.578' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath d='m5.5958 16.982 11.386-11.386' fill='none' stroke='%23fff' stroke-width='2.11669'/%3e %3cpath d='m5.5958 5.5958 11.386 11.386' fill='none' stroke='%23fff' stroke-width='2.11669'/%3e %3c/svg%3e"},1560:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' id='svg6' sodipodi:docname='icon-option-noborder.svg' inkscape:version='1.1.1 (3bf5ae0d25, 2021-09-20)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3e %3cdefs id='defs10' /%3e %3csodipodi:namedview id='namedview8' pagecolor='%23ffffff' bordercolor='%23999999' borderopacity='1' inkscape:pageshadow='0' inkscape:pageopacity='0' inkscape:pagecheckerboard='0' inkscape:document-units='pt' showgrid='false' inkscape:zoom='8.4257813' inkscape:cx='64.029671' inkscape:cy='50.025035' inkscape:window-width='2400' inkscape:window-height='1321' inkscape:window-x='2391' inkscape:window-y='-9' inkscape:window-maximized='1' inkscape:current-layer='svg6' /%3e %3cmetadata id='metadata2'%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3e %3cdc:title /%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath d='m2.05253 6.06137h3.9447v-3.9447h10.5192v6.5745h3.9447v7.8894h-3.9447v3.9447h-10.5192v-6.5745h-3.9447z' fill='%23fff' fill-opacity='.588235' stroke='%23fdffff' stroke-width='.705556' id='path4' style='fill:none;stroke:%23fdffff;stroke-opacity:1;stroke-width:0.70555619;stroke-miterlimit:4;stroke-dasharray:1.41111238,1.41111238;stroke-dashoffset:0' /%3e %3c/svg%3e"},1690:(e,t,r)=>{"use strict";r.a(e,(async(e,n)=>{try{r.d(t,{c:()=>a}),r(3696);var o=r(6200),i=(r(4332),r(9615),r(3696)),s=e([o]);o=(s.then?(await s)():s)[0];var a=function(e){var t;void 0!==e.dynmap&&(t=e.dynmap.getProjection());var r=function(r,n){var o;return void 0!==t?(o=t.fromLocationToLatLng({x:r,y:0,z:n}),o=e.dynmap.map.latLngToLayerPoint(o)):o={x:r,z:n},o},n=null;if(e.enabledPainting&&void 0!==e.dynmap)try{var s=e.dynmap.map.latLngToLayerPoint(e.cursorLatLng),a=s.x,d=s.y,c=r(16*e.paintRadius,0).x-r(0,0).x,l=e.isErasing?"#A00":"#000";n=i.createElement("g",null,i.createElement("circle",{cx:a,cy:d,r:c,stroke:l,strokeWidth:"1",fill:"none"}))}catch(e){console.log("FAILED",e)}var u=null;if(void 0!==o.default.backgroundImageSrc){var p=r(e.backgroundImageOriginX,e.backgroundImageOriginY),m=r(e.backgroundImageEndX,e.backgroundImageEndY),f=m.x-p.x,h=m.y-p.y;u=i.createElement("image",{href:e.backgroundImageSrc,width:f,height:h,x:p.x,y:p.y,preserveAspectRatio:"none"})}return i.createElement("svg",{id:"nodes-world",className:"leaflet-zoom-animated",width:e.width,height:e.height,viewBox:e.viewbox,style:{transform:e.transform},onMouseDown:e.handleMouseDown,onMouseUp:e.handleMouseUp,onContextMenu:function(e){return e.preventDefault()}},u,i.createElement("defs",null,e.svgPatterns),e.territoryElements,e.townCapitalElements,e.portElements,e.townNameElements,n)};n()}catch(e){n(e)}}))},1795:(e,t,r)=>{"use strict";r.d(t,{I:()=>y,V:()=>k});var n=r(3696),o=r(5292),i=r.n(o),s=r(9893),a=r.n(s),d=r(9383),c=r.n(d),l=r(6884),u=r.n(l),p=r(9088),m=r.n(p),f=r(7997),h=r.n(f),g=r(5156),w={};w.styleTagTransform=h(),w.setAttributes=u(),w.insert=c().bind(null,"head"),w.domAPI=a(),w.insertStyleElement=m(),i()(g.A,w),g.A&&g.A.locals&&g.A.locals;var v=r(3696),y=function(e){var t=e.getPoint,r=t(e.x,e.z),o=t(16,0).x-t(0,0).x,i=20;4===o||8===o?i=20:16===o?i=32:32===o?i=48:o>32&&(i=64);var s=(0,n.useRef)(null),a=r.x-i/2,d=r.y-i/2;return v.createElement("g",{ref:s,onMouseEnter:function(){if(null!==s.current){var t=s.current.getBoundingClientRect();e.showPortTooltip(e.port,t.x,t.y)}},onMouseLeave:e.removePortTooltip},v.createElement("image",{key:e.name,x:a,y:d,width:i,height:i,href:"/images/nodes/anchor.png"}))},k=function(e){e.getPoint;var t={left:e.clientX+50,top:e.clientY-30},r=e.port;return v.createElement(v.Fragment,null,e.enable?v.createElement("div",{id:"port-tooltip",style:t},v.createElement("div",null,v.createElement("b",null,"Port:")," ",r.name),v.createElement("div",null,v.createElement("b",null,"Groups:")," ",r.groupsString),v.createElement("div",null,v.createElement("b",null,"x:")," ",r.x),v.createElement("div",null,v.createElement("b",null,"z:")," ",r.z)):null)}},1913:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,"/**\n * checkbox.css\n * --------------------------------------------------\n * CSS for checkbox.jsx\n */\n\n.nodes-checkbox-container {\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    padding: 0;\n    border: 0;\n    text-align: center;\n}\n\n.nodes-checkbox {\n    box-sizing: border-box;\n    width: 12px;\n    height: 12px;\n    padding: 0;\n    border: 0;\n}\n\n.nodes-checkbox-label {\n    margin-left: 4px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n}",""]);const a=s},2063:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,"#nodes-editor-pane-options {\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n    position: relative;\n}\n\n#nodes-editor-options-image-upload {\n    display: none;\n}\n\n#nodes-editor-options-upload-img-btn {\n    font-size: 12px;\n    width: 100px;\n    margin-left: 4px;\n}\n\n#nodes-ace-editor-default-resource-container {\n    height: 150px;\n}",""]);const a=s},2286:e=>{e.exports="data:image/svg+xml,%3c!-- Created with Inkscape (http://www.inkscape.org/) --%3e %3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.578 22.578' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cg transform='translate(0 -274.42)' fill='%23fff'%3e %3cpath transform='matrix(.26458 0 0 .26458 0 274.42)' d='m16 10.666c-2.6667 0-5.334 2.6673-5.334 5.334v53.334c0 2.6667 2.6673 5.332 5.334 5.332h53.334c2.6667 0 5.332-2.6653 5.332-5.332v-42.668c0-1.3333 0.001303-1.3327-1.332-2.666l-12-12c-1.3333-1.3333-1.3346-1.334-2.668-1.334h-42.666zm14.666 5.334h24c2.216 0 4 1.784 4 4v13.334c0 2.216-1.784 4-4 4h-24c-2.216 0-4-1.784-4-4v-13.334c0-2.216 1.784-4 4-4zm-5.332 32h34.666c2.216 0 4 1.784 4 4v13.334c0 2.216-1.784 4-4 4h-34.666c-2.216 0-4-1.784-4-4v-13.334c0-2.216 1.784-4 4-4z'/%3e %3crect x='12.7' y='280.07' width='1.4111' height='2.8222' rx='.35278' ry='1.0583' style='paint-order:normal'/%3e %3c/g%3e %3c/svg%3e"},2402:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,"/**\n * color-picker.css\n * --------------------------------------------------\n * CSS for component color-picker.jsx\n * based on https://github.com/casesandberg/react-color\n */\n\n.nodes-colorpicker {\n    position: fixed;\n    width: 160px;\n    padding: 4px;\n    background-color: #333;\n    z-index: 9001;\n}\n\n/**\n * Saturation selector\n */\n.nodes-colorpicker-saturation {\n    width: 160px;\n    height: 120px;\n    background: hsl(0, 100%, 50%);\n    overflow: hidden;\n}\n\n.nodes-colorpicker-saturation-white {\n    position: relative;\n    width: 160px;\n    height: 120px;\n    background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n}\n\n.nodes-colorpicker-saturation-black {\n  width: 160px;\n  height: 120px;\n  background: linear-gradient(to top, #000, rgba(0,0,0,0));\n}\n\n.nodes-colorpicker-saturation-pointer {\n    position: absolute;\n    width: 6px;\n    height: 6px;\n    top: 50%; /*`${ -(this.props.hsv.v * 100) + 100 }%`, */\n    left: 50%; /* `${ this.props.hsv.s * 100 }%`, */\n    cursor: default;\n    transform: translate(-3px, -3px);\n}\n\n.nodes-colorpicker-saturation-pointer-circle {\n    width: 6px;\n    height: 6px;\n    border-radius: 50%;\n    cursor: hand;\n    border: 1px solid #fff;\n    box-shadow: 0 0 2px 1px #666\n}\n\n/**\n * Hue slider\n */\n.nodes-colorpicker-hue {\n    position: relative;\n    width: 160px;\n    height: 12px;\n    margin: 4px 0;\n    background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n        33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n    overflow: hidden;\n}\n\n.nodes-colorpicker-hue-pointer {\n    position: absolute;\n    left: 50%;\n}\n\n.nodes-colorpicker-hue-pointer-slider {\n    width: 4px;\n    height: 8px;\n    margin-top: 2px;\n    box-shadow: 0 0 4px rgba(0, 0, 0, .6);\n    background: #fff;\n    transform: translateX(-2px);\n}\n\n/**\n * Input fields\n */\n.nodes-colorpicker-fields {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n}\n\n.nodes-colorpicker-fields-hex {\n    width: 58px;\n    padding: 0 2px;\n}\n.nodes-colorpicker-fields-tone {\n    width: 26px;\n    padding: 0 2px;\n}\n.nodes-colorpicker-fields-labels {\n    padding-top: 2px;\n    text-align: center;\n    color: #999;\n    font-size: 10px;\n    user-select: none;\n}\n",""]);const a=s},2577:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cg fill='none' stroke='%23fff'%3e %3cpath d='m2.05253 6.06137h3.9447v-3.9447h10.5192v6.23626h3.9447v8.83647h-3.9447v3.33587h-10.5192v-6.5745h-3.9447z' stroke-width='.793751'/%3e %3cpath d='m1.96179 11.4159h18.4679' stroke-dasharray='1.05833434, 1.05833434000000004' stroke-width='.529167'/%3e %3cpath d='m11.0604 2.21577v18.2988' stroke-dasharray='1.05833434, 1.05833434000000004' stroke-width='.529167'/%3e %3c/g%3e %3c/svg%3e"},2619:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,"#nodes-editor-pane-terr {\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n    position: relative;\n}\n\n#nodes-editor-terr-header {\n    height: 24px;\n    min-height: 24px;\n    flex-grow: 0;\n    font-weight: bold;\n    line-height: 24px;\n    display: flex;\n}\n\n#nodes-editor-terr-chunk {\n    position: absolute;\n    right: 0;\n    top: 0;\n    padding: 8px 8px 0 0;\n}\n\n#nodes-editor-terr-chunk-label {\n    text-align: right;\n}\n\n#nodes-editor-terr-toolbar,\n#nodes-editor-terr-toolbar-g1,\n#nodes-editor-terr-toolbar-g2\n{\n    display: flex;\n}\n\n#nodes-editor-terr-toolbar {\n    margin-bottom: 4px;\n}\n\n#nodes-editor-terr-toolbar-g1 {\n    margin-right: 16px;\n}\n\n.nodes-editor-terr-tool-btn {\n    box-sizing: border-box;\n    width: 24px;\n    height: 24px;\n    margin: 2px;\n}\n\n#nodes-editor-terr-info {\n    margin-top: 4px;\n}\n\n#nodes-editor-terr-list {\n    height: 160px;\n    background-color: #111;\n}\n\n#nodes-editor-terr-add-node {\n    display: flex;\n    height: 30px;\n}\n\n.nodes-editor-terr-tool-btn {\n    width: 24px;\n    min-width: 24px;\n    height: 24px;\n    min-height: 24px;\n    flex-grow: 0;\n    \n}\n\n.nodes-editor-terr-add-node-input {\n    box-sizing: border-box;\n    flex-grow: 1;\n    height: 30px;\n    padding: 4px;\n}\n\n.nodes-editor-terr-add-node-input input {\n    text-align: left;\n    background-color: #111;\n    color: #fff;\n    font-family: 'Courier New', Courier, monospace;\n    padding-left: 4px;\n}\n\n#nodes-editor-terr-selected-header {\n    margin-top: 16px;\n    font-weight: bold;\n}\n\n#nodes-editor-terr-selected-name {\n    display: flex;\n}\n\n#nodes-editor-terr-selected-name-edit {\n    flex-grow: 1;\n    margin-left: 8px;\n    background-color: #111;\n}\n\n#nodes-editor-terr-selected-name-edit input{\n    box-sizing: border-box;\n    width: 100%;\n    text-align: left;\n    padding: 0 4px;\n    background-color: rgba(0,0,0,0);\n    font-family: 'Courier New', Courier, monospace;\n    color: #fff;\n}\n\n.nodes-editor-terr-nodes-list-item {\n    display: flex;\n    width: 100%;\n    height: 20px;\n    user-select: none;\n}\n\n.nodes-editor-terr-nodes-list-name {\n    flex-grow: 1;\n    font-size: 14px;\n    margin-left: 4px;\n}\n\n.nodes-editor-terr-nodes-list-item-icon {\n    box-sizing: border-box;\n    width: 20px;\n    min-width: 20px;\n    height: 20px;\n    flex-grow: 0;\n}\n\n.nodes-editor-terr-nodes-list-item-img {\n    width: 16px;\n    height: 16px;\n    padding: 2px;\n}\n\n.nodes-editor-terr-nodes-list-item-delete {\n    box-sizing: border-box;\n    width: 20px;\n    min-width: 20px;\n    height: 20px;\n    padding: 0;\n    flex-grow: 0;\n}\n\n.nodes-editor-terr-nodes-list-item-x {\n    width: 12px;\n    height: 12px;\n    padding: 4px;\n    opacity: 0.3;\n    cursor: pointer;\n}\n\n#nodes-editor-terr-guide {\n    margin-top: 8px;\n    color: #888;\n    font-size: 12px;\n    user-select: none;\n}",""]);const a=s},2837:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,'#nodes-container {\n    background-color: #222;\n    font-size: 14px;\n}\n\n#nodes-editor {\n    height: 100%;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    background-color: #222;\n    color: white;\n    font-family: "Courier New", Courier, monospace;\n    box-sizing: border-box;\n}\n\n#nodes-file-uploader {\n    display: none;\n}\n\n#nodes-header {\n    box-sizing: border-box;\n    display: flex;\n    height: 40px;\n    min-height: 40px;\n    flex-grow: 0;\n    padding: 8px 12px 8px 8px;\n    background-color: #111;\n}\n\n#nodes-header-text {\n    height: 100%;\n    font-size: 16pt;\n    font-weight: bold;\n    flex-grow: 0;\n}\n\n#nodes-header-btns {\n    flex-grow: 1;\n    display: flex;\n    justify-content: flex-end;\n    user-select: none;\n}\n\n.nodes-editor-header-btn-container {\n    position: relative;\n}\n\n.nodes-editor-header-btn {\n    box-sizing: border-box;\n    width: 24px;\n    height: 24px;\n    cursor: pointer;\n    z-index: 9002;\n    margin-left: 10px;\n}\n\n.nodes-editor-header-btn-icon {\n    width: 24px;\n    height: 24px;\n    opacity: 0.4;\n    transition: opacity 0.4s;\n}\n\n.nodes-editor-header-btn:hover .nodes-editor-header-btn-icon {\n    opacity: 1.0;\n}\n\n.nodes-editor-header-btn-tooltip {\n    position: absolute;\n    left: 4px;\n    top: 24px;\n    width: 200px;\n    height: 0;\n    line-height: 30px;\n    padding: 0;\n    box-sizing: border-box;\n    display: flex;\n    color: #fff;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 8999;\n    transition: height 0.5s;\n}\n\n/* Hack, just increase larger than it should be */\n.nodes-editor-header-btn:hover + .nodes-editor-header-btn-tooltip {\n    height: 40px;\n}\n\n.nodes-editor-header-btn-tooltip-text {\n    background-color: #111;\n}\n\n/* Editor panes */\n\n#nodes-editor-tabs-container {\n    flex-grow: 0;\n    display: flex;\n    padding: 0 8px;\n    background-color: #111;\n}\n\n#nodes-editor-pane-container {\n    flex-grow: 1;\n    overflow-y: scroll;\n}\n\n.nodes-editor-tab {\n    box-sizing: border-box;\n    width: 48px;\n    height: 48px;\n    padding: 8px;\n    background-color: #181818;\n    font-size: 11pt;\n    text-align: center;\n    user-select: none;\n    cursor: pointer;\n    border-left: 1px solid #111;\n    border-right: 1px solid #111;\n}\n\n.nodes-editor-tab-icon {\n    width: 100%;\n    height: 100%;\n    opacity: 0.5;\n}\n\n.nodes-editor-tab-selected {\n    background-color: #222;\n    border-left: 1px solid #222;\n    border-right: 1px solid #222;\n}\n\n.nodes-editor-tab-selected img {\n    opacity: 1.0;\n}\n\n.nodes-editor-pane {\n    box-sizing: border-box;\n    background-color: #222;\n    padding: 8px 12px 12px 12px;\n}\n',""]);const a=s},2845:e=>{e.exports="data:image/svg+xml,%3c!-- Created with Inkscape (http://www.inkscape.org/) --%3e %3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.578 22.578' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cg transform='translate(0 -274.42)'%3e %3cpath d='m2.8222 289.94v4.2333h16.933v-4.2333' fill='none' stroke='%23fff' stroke-linecap='square' stroke-linejoin='round' stroke-width='1.4111'/%3e %3cpath d='m9.1722 291.36h4.2333v-7.0556h3.5278l-5.6444-7.0556-5.6444 7.0556h3.5278z' fill='%23fff'/%3e %3c/g%3e %3c/svg%3e"},2961:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' id='svg6' sodipodi:docname='icon-option-town-name.svg' inkscape:version='1.1.1 (3bf5ae0d25, 2021-09-20)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3e %3cdefs id='defs10'%3e %3crect x='4.1539175' y='11.274919' width='74.802806' height='34.424913' id='rect2647' /%3e %3crect x='4.1539173' y='11.274919' width='74.802808' height='34.257073' id='rect2647-4' /%3e %3c/defs%3e %3csodipodi:namedview id='namedview8' pagecolor='%23ffffff' bordercolor='%23999999' borderopacity='1' inkscape:pageshadow='0' inkscape:pageopacity='0' inkscape:pagecheckerboard='0' inkscape:document-units='pt' showgrid='false' inkscape:zoom='8.4257812' inkscape:cx='33.765415' inkscape:cy='53.585535' inkscape:window-width='2400' inkscape:window-height='1321' inkscape:window-x='2391' inkscape:window-y='-9' inkscape:window-maximized='1' inkscape:current-layer='svg6' /%3e %3cmetadata id='metadata2'%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3e %3cdc:title /%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3ctext xml:space='preserve' transform='matrix(0.26458359,0,0,0.26458359,1.9076846,1.2560667)' id='text2645' style='font-style:normal;font-weight:normal;font-size:24px;line-height:1.25;font-family:sans-serif;white-space:pre;shape-inside:url(%23rect2647);fill:%23ffffff;fill-opacity:1;stroke:none'%3e%3ctspan x='4.1542969' y='33.171318' id='tspan27932'%3eTown%3c/tspan%3e%3c/text%3e %3ctext xml:space='preserve' transform='matrix(0.26458359,0,0,0.26458359,1.2622891,8.6193469)' id='text2645-2' style='font-style:normal;font-weight:normal;font-size:24px;line-height:1.25;font-family:sans-serif;white-space:pre;shape-inside:url(%23rect2647-4);fill:%23ffffff;fill-opacity:1;stroke:none'%3e%3ctspan x='4.1542969' y='33.171318' id='tspan27934'%3eName%3c/tspan%3e%3c/text%3e %3c/svg%3e"},2964:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' id='svg6' sodipodi:docname='icon-sort-by-players.svg' inkscape:version='1.1.1 (3bf5ae0d25, 2021-09-20)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3e %3cdefs id='defs10' /%3e %3csodipodi:namedview id='namedview8' pagecolor='%23ffffff' bordercolor='%23999999' borderopacity='1' inkscape:pageshadow='0' inkscape:pageopacity='0' inkscape:pagecheckerboard='0' inkscape:document-units='pt' showgrid='true' inkscape:zoom='6.1733736' inkscape:cx='40.253517' inkscape:cy='58.071975' inkscape:window-width='1920' inkscape:window-height='1051' inkscape:window-x='-9' inkscape:window-y='-9' inkscape:window-maximized='1' inkscape:current-layer='svg6'%3e %3cinkscape:grid type='xygrid' id='grid1118' units='pt' spacingx='0.35277811' spacingy='0.35277811' empspacing='4' /%3e %3c/sodipodi:namedview%3e %3cmetadata id='metadata2'%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3ccircle style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.529166' id='path1222' cx='11.288899' cy='7.5816531' r='3.6632328' /%3e %3cpath style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.264584px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' d='m 4.2333383,18.69724 c 0,0 -10e-8,-6.328222 2.3518537,-6.328222 h 9.407415 c 2.351854,0 2.351855,6.328222 2.351855,6.328222 z' id='path1417' sodipodi:nodetypes='csscc' /%3e %3c/svg%3e"},3189:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' id='svg12' sodipodi:docname='icon-terr-set-home.svg' inkscape:version='1.1.1 (3bf5ae0d25, 2021-09-20)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3e %3cdefs id='defs16' /%3e %3csodipodi:namedview id='namedview14' pagecolor='%23ffffff' bordercolor='%23999999' borderopacity='1' inkscape:pageshadow='0' inkscape:pageopacity='0' inkscape:pagecheckerboard='0' inkscape:document-units='pt' showgrid='true' inkscape:zoom='7.9999999' inkscape:cx='25.8125' inkscape:cy='35.6875' inkscape:window-width='1920' inkscape:window-height='1051' inkscape:window-x='-9' inkscape:window-y='-9' inkscape:window-maximized='1' inkscape:current-layer='svg12'%3e %3cinkscape:grid type='xygrid' id='grid913' units='pt' spacingx='0.35277811' spacingy='0.35277811' empspacing='4' /%3e %3c/sodipodi:namedview%3e %3cmetadata id='metadata2'%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 2.8810222,17.815293 16.8157558,1e-6 v 0.97014 H 2.8810218 Z' id='path955' sodipodi:nodetypes='ccccc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.88194529;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 4.8213011,10.778548 v 7.036746' id='path1183' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.88194529;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 12.486604,10.778548 -10e-7,7.036746' id='path1185' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.88194529;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 15.169459,7.4671367 2.682856,3.3114113 v 7.036746' id='path4871' sodipodi:nodetypes='ccc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.88194529;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='M 4.8213014,10.778548 6.7376271,7.4671367 h 8.4318319 l -2.682855,3.3114113 z' id='path5068' sodipodi:nodetypes='ccccc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.88194529;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 7.0849606,12.60241 v 1.655706' id='path8555-2-4-4' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.88194529;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 15.169459,10.364622 v 1.24178' id='path8555-2-4-4-7-11' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.88194529;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 9.3845517,12.60241 v 1.655706' id='path8555-2-4-4-7-1' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.88194529;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 7.4083405,7.4671368 0,-2.8810214 h 1.2935199 l 0,2.8810214' id='path1347' sodipodi:nodetypes='cccc' /%3e %3c/svg%3e"},3242:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' id='svg12' sodipodi:docname='icon-tab-towns.svg' inkscape:version='1.1.1 (3bf5ae0d25, 2021-09-20)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3e %3cdefs id='defs16' /%3e %3csodipodi:namedview id='namedview14' pagecolor='%23ffffff' bordercolor='%23999999' borderopacity='1' inkscape:pageshadow='0' inkscape:pageopacity='0' inkscape:pagecheckerboard='0' inkscape:document-units='pt' showgrid='true' inkscape:zoom='5.6568542' inkscape:cx='37.565048' inkscape:cy='55.773047' inkscape:window-width='1920' inkscape:window-height='1051' inkscape:window-x='-9' inkscape:window-y='-9' inkscape:window-maximized='1' inkscape:current-layer='svg12'%3e %3cinkscape:grid type='xygrid' id='grid913' units='pt' spacingx='0.35277811' spacingy='0.35277811' empspacing='4' /%3e %3c/sodipodi:namedview%3e %3cmetadata id='metadata2'%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 1.4111124,20.813907 19.7555746,1e-6 0,1.058335 H 1.411112 Z' id='path955' sodipodi:nodetypes='ccccc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 7.7611184,15.169459 0,5.997228' id='path1183' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 14.816681,15.169459 -1e-6,5.997227' id='path1185' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 17.286127,12.347234 2.469447,2.822225 v 5.997228' id='path4871' sodipodi:nodetypes='ccc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 7.7611187,15.169459 1.7638907,-2.822225 h 7.7611176 l -2.469446,2.822225 z' id='path5068' sodipodi:nodetypes='ccccc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 3.175003,21.166687 0,-11.2888999' id='path5247' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 7.7611184,13.758346 2e-7,-3.8805589' id='path5249' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 3.175003,9.8777871 1.7638907,-2.8222249 4.5861148,3e-7 -1.7638901,2.8222246 z' id='path5251' sodipodi:nodetypes='ccccc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='M 9.5250087,7.0555622 11.2889,9.8777871 v 1.7638909' id='path5253' sodipodi:nodetypes='ccc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 13.758346,5.2916716 2.469447,-4.2333373 2.469446,4.2333373 z' id='path5251-6' sodipodi:nodetypes='cccc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 13.758346,5.2916718 -10e-7,6.3500062' id='path8555' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='M 15.522237,7.0555622 V 8.8194528' id='path8555-2' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 18.697239,5.2916716 0,7.4083404' id='path8555-1' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='M 17.286127,5.2916716 V 11.641678' id='path8555-1-0' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='M 4.5861154,11.641677 V 13.05279' id='path8555-2-4' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='M 6.350006,11.641677 V 13.05279' id='path8555-2-4-0' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 9.1722309,16.580571 v 1.411113' id='path8555-2-4-4' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 13.405568,16.580571 v 1.411113' id='path8555-2-4-4-7' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 17.286127,14.816681 v 1.058335' id='path8555-2-4-4-7-11' sodipodi:nodetypes='cc' /%3e %3cpath style='fill:none;stroke:%23ffffff;stroke-width:0.705556;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' d='m 11.2889,16.580571 v 1.411113' id='path8555-2-4-4-7-1' sodipodi:nodetypes='cc' /%3e %3c/svg%3e"},3365:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,".nodes-editor-generation-buttons {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    column-gap: 10px;\n}\n\n.nodes-editor-generation-text-button {\n    width: 100%;\n    overflow: hidden;\n}\n\n#nodes-resource-distribute-ace-editor-container {\n    height: 200px;\n}",""]);const a=s},3702:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,"/**\n * checkbox.css\n * --------------------------------------------------\n * CSS for checkbox\n */\n\n.nodes-button {\n    display: flex;\n    box-sizing: border-box;\n    align-items: center;\n    justify-content: center;\n    vertical-align: middle;\n    overflow: hidden;\n    color: #fff;\n    cursor: pointer;\n    border-bottom: solid 1px #000;\n    border-left: solid 1px #000;\n    border-radius: 0px;\n    user-select: none;\n}\n\n.nodes-button:hover {\n    background-color: #333 !important;\n    border-bottom: solid 1px #111;\n    border-left: solid 1px #111;\n}\n\n.nodes-button:active {\n    border-bottom: 0;\n    border-left: 0;\n    border-top: solid 1px #000;\n    border-right: solid 1px #000;\n}\n\n.nodes-button-icon {\n    width: 100%;\n    height: 100%;\n    padding: 2px;\n}\n",""]);const a=s},3796:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,"#nodes-editor-pane-nodes {\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n}\n\n#nodes-editor-nodes-header {\n    height: 24px;\n    min-height: 24px;\n    flex-grow: 0;\n    font-weight: bold;\n    line-height: 24px;\n    display: flex;\n}\n\n.nodes-editor-nodes-header-text {\n    flex-grow: 1;\n}\n\n.nodes-editor-nodes-header-buttons {\n    display: flex;\n    flex-direction: row;\n    flex-shrink: 0;\n    flex-grow: 0;\n}\n\n.nodes-editor-nodes-header-btn {\n    box-sizing: border-box;\n    width: 20px;\n    height: 20px;\n    margin: 2px;\n}\n\n#nodes-editor-nodes-editor-folder {\n    cursor: pointer;\n    user-select: none;\n    font-weight: bold;\n}\n\n#nodes-editor-nodes-list {\n    width: 100%;\n    height: 160px;\n    min-height: 160px;\n    flex-grow: 1;\n    background-color: #111;\n    margin-bottom: 4px;\n}\n\n.nodes-editor-nodes-list-item {\n    display: flex;\n    width: 100%;\n    height: 24px;\n    user-select: none;\n    cursor: pointer;\n}\n\n.nodes-editor-nodes-list-edit-name {\n    flex-grow: 1;\n}\n\n.nodes-editor-nodes-list-edit-name input{\n    box-sizing: border-box;\n    width: 50%;\n    text-align: left;\n    padding: 0 4px;\n    background-color: rgba(0,0,0,0);\n    font-family: 'Courier New', Courier, monospace;\n    color: #fff;\n}\n\n.nodes-editor-nodes-list-item-icon {\n    box-sizing: border-box;\n    width: 24px;\n    min-width: 24px;\n    height: 24px;\n    flex-grow: 0;\n}\n\n.nodes-editor-nodes-list-item-img {\n    width: 16px;\n    height: 16px;\n    padding: 4px;\n}\n\n.nodes-editor-nodes-list-item-delete {\n    box-sizing: border-box;\n    width: 24px;\n    min-width: 24px;\n    height: 24px;\n    padding: 0;\n    flex-grow: 0;\n}\n\n.nodes-editor-nodes-list-item-x {\n    width: 12px;\n    height: 12px;\n    padding: 6px;\n    opacity: 0.3;\n    cursor: pointer;\n}\n\n.nodes-editor-nodes-list-item-x:hover {\n    opacity: 0.8;\n    transition: linear opacity 0.2s;\n}\n\n#nodes-code-editor-container {\n    width: 100%;\n    height: 200px;\n    min-height: 200px;\n    flex-shrink: 1;\n    flex-grow: 2;\n    display: flex;\n    flex-direction: column;\n    position: relative;\n}\n\n#nodes-editor-nodes-choose-icon {\n    width: 100%;\n    margin-bottom: 8px;\n}\n\n#nodes-editor-nodes-icon-selection {\n    height: 120px;\n    padding: 4px;\n    display: flex;\n    flex-wrap: wrap;\n    overflow-y: scroll;\n    background-color: #111;\n}\n\n.nodes-editor-nodes-icon-btn {\n    box-sizing: border-box;\n    width: 24px;\n    height: 24px;\n    padding: 4px;\n    cursor: pointer;\n    user-select: none;\n}\n\n.nodes-editor-nodes-icon-btn-selected {\n    background-color: #444;\n}\n\n.nodes-editor-nodes-icon-img {\n    width: 16px;\n    height: 16px;\n}\n\n#nodes-editor-nodes-guide {\n    margin-top: 8px;\n    color: #888;\n    font-size: 12px;\n    user-select: none;\n}",""]);const a=s},3956:(e,t,r)=>{"use strict";r.a(e,(async(e,n)=>{try{r.d(t,{p:()=>w});var o=r(3696),i=r(7516),s=r.n(i),a=(r(5813),r(2674),r(2746),r(6779)),d=r(3354),c=r(6200),l=r(5304),u=(r(1110),r(7081),r(7424),r(5936),r(5506),r(3696)),p=e([c]);c=(p.then?(await p)():p)[0],s().config.setModuleUrl("ace/mode/javascript_worker",a.A);var m=function(){if(void 0!==c.default.selectedTerritory){var e=c.default.selectedTerritory.id;console.log("[terr=".concat(e,"] Subdividing into territories...")),c.default._subdivideIntoRandomTerritories(e,c.default.generatorAverageRadius,c.default.generatorScaleX,c.default.generatorScaleY,c.default.generatorRandomSeed,c.default.generatorIterationsSmoothCenters,c.default.generatorIterationsSmoothCorners,c.default.generatorDeleteSmallerThan,c.default.generatorMergeSmallerThan,c.default.generatorCopyName)}else console.log("No selected territory to subdivide")},f=function(){c.default.distributeResourcesInSelectedTerritories()},h=function(){c.default._removeAllNodesFromTerritories(c.default.selectedTerritoryIds())},g=function(e){try{var t=JSON.parse(e);c.default.setSetting("resourceDistributeSettings",t,!1,!1,!0)}catch(e){}},w=function(e){var t=(0,o.useRef)(null),r=function(){null!==t.current&&g(t.current.editor.getValue())},n=JSON.stringify(c.default.resourceDistributeSettings,null,3),i=(0,o.useMemo)((function(){return function(e){return u.createElement(d.Ay,{ref:e.refEditor,mode:"javascript",theme:"nodes_dark",name:"nodes-code-ace-editor",onFocus:function(){},onBlur:e.onBlur,onChange:g,width:"100%",height:"100%",fontSize:13,tabSize:3,wrapEnabled:!0,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:e.editorText,setOptions:{wrap:!0,wrapBehavioursEnabled:!0,showLineNumbers:!0,tabSize:3},editorProps:{$blockScrolling:1/0}})}({refEditor:t,editorText:n,onBlur:r})}),[n]);return u.createElement(u.Fragment,null,u.createElement("div",{className:"nodes-editor-panel-title"},"Random Generation:"),u.createElement("div",{className:"nodes-editor-section-header"},"Subdivide Territory:"),u.createElement("div",{className:"nodes-editor-generation-buttons"},u.createElement(l.$n,{className:"nodes-editor-generation-text-button",onClick:m},"Subdivide"),u.createElement(l.$n,{className:"nodes-editor-generation-text-button",onClick:c.default.mergeSelectedTerritories},"Merge Selected")),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"Average radius:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:c.default.generatorAverageRadius,onChange:function(e){return c.default.setSetting("generatorAverageRadius",e,!1,!1,!0)}})),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"Scale X:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:c.default.generatorScaleX,onChange:function(e){return c.default.setSetting("generatorScaleX",e,!1,!1,!0)}})),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"Scale Y:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:c.default.generatorScaleY,onChange:function(e){return c.default.setSetting("generatorScaleY",e,!1,!1,!0)}})),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"Random seed:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:c.default.generatorRandomSeed,onChange:function(e){return c.default.setSetting("generatorRandomSeed",e,!1,!1,!0)}})),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"Iterations smooth centers:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:c.default.generatorIterationsSmoothCenters,onChange:function(e){return c.default.setSetting("generatorIterationsSmoothCenters",e,!1,!1,!0)}})),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"Iterations smooth corners:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:c.default.generatorIterationsSmoothCorners,onChange:function(e){return c.default.setSetting("generatorIterationsSmoothCorners",e,!1,!1,!0)}})),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"Delete smaller than:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:c.default.generatorDeleteSmallerThan,onChange:function(e){return c.default.setSetting("generatorDeleteSmallerThan",e,!1,!1,!0)}})),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"Merge smaller than:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:c.default.generatorMergeSmallerThan,onChange:function(e){return c.default.setSetting("generatorMergeSmallerThan",e,!1,!1,!0)}})),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement(l.Sc,{checked:c.default.generatorCopyName,onChange:function(e){return c.default.setSetting("generatorCopyName",e,!1,!1,!0)},label:"Copy name to new territories"})),u.createElement("div",{className:"nodes-editor-section-header"},"Distribute Resources:"),u.createElement("div",{className:"nodes-editor-generation-buttons"},u.createElement(l.$n,{className:"nodes-editor-generation-text-button",onClick:f},"Distribute"),u.createElement(l.$n,{className:"nodes-editor-generation-text-button",onClick:h},"Remove all")),u.createElement("div",{className:"nodes-editor-setting-field"},u.createElement("div",null,"Random seed:"),u.createElement(l.bo,{className:"nodes-editor-setting-input",value:c.default.resourceDistributeRandomSeed,onChange:function(e){return c.default.setSetting("resourceDistributeRandomSeed",e,!1,!1,!0)}})),u.createElement("div",{className:"nodes-editor-section-header"},"Resource distribution settings:"),u.createElement("div",{id:"nodes-resource-distribute-ace-editor-container"},i),u.createElement("div",{className:"nodes-editor-help"},u.createElement("div",null,"Random generation help:"),u.createElement("div",null,"- Average radius is in chunks"),u.createElement("div",null,'- Resource probability format: "resource": probability, e.g.'),u.createElement("div",null,'- "diamond": 1,'),u.createElement("div",null,'- "gold": 2')))};n()}catch(e){n(e)}}))},4200:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,"#nodes-editor-pane-towns {\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n    position: relative;\n}\n\n.nodes-editor-towns-header {\n    height: 24px;\n    min-height: 24px;\n    flex-grow: 0;\n    font-weight: bold;\n    line-height: 24px;\n    display: flex;\n}\n",""]);const a=s},4304:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.6 22.6' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath d='m11.3 1.4125-2.47188 7.41562h-7.41562l6.35625 4.2375-3.53125 8.12187 7.0625-5.65 7.0625 5.65-3.53125-8.12187 6.35625-4.2375h-7.41562z' fill='%23fff'/%3e %3c/svg%3e"},4332:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var n=r(3696),o=["#f00","#0f0","#00f","#ff0","#0ff","#f0f"],i=function(e){var t=e.territory,r=e.getPoint,i=r(t.core.x,t.core.y),s=[];t.borders.forEach((function(e){for(var t=e.edge,n=r(t[0],t[1]),o="M ".concat(n.x," ").concat(n.y),i=2;i<t.length-2;i+=2)n=r(t[i],t[i+1]),o+="L ".concat(n.x," ").concat(n.y);o+="z",s.push(o)}));var a=t.nodes.map((function(t){return e.getNodeIcon(t)})),d=r(16,0).x-r(0,0).x,c=8;4===d?c=10:8===d?c=14:16===d?c=18:32===d?c=24:d>32&&(c=32);var l=a.length,u=Math.ceil(Math.sqrt(a.length)),p=0===u?0:Math.ceil(l/u),m={x:i.x-c*u/2,y:i.y-c*p/2},f=void 0;if(!0===e.renderTerritoryIcons){for(var h=[],g=0;g<a.length;g++)h.push({x:m.x+g%u*c,y:m.y+Math.floor(g/u)*c});f=a.map((function(t,r){return n.createElement("image",{key:r,x:h[r].x,y:h[r].y,width:c,height:c,href:e.resourceIcons.get(t)})}))}var w="#000",v=0,y="#000",k=2;if(e.renderTerritoryColors&&void 0!==t.color)w=o[t.color],v=.5;else if(void 0!==t.town&&void 0!==t.town.color){var b=t.town.color;if(void 0!==t.occupier){var x=t.occupier.color;!0===e.selected?(w="url(#dark-stripes-".concat(b[0],"-").concat(b[1],"-").concat(b[2],"-").concat(x[0],"-").concat(x[1],"-").concat(x[2],")"),1==e.renderTerritoryOpaque?v+=.1:v+=.25):w="url(#stripes-".concat(b[0],"-").concat(b[1],"-").concat(b[2],"-").concat(x[0],"-").concat(x[1],"-").concat(x[2],")")}else!0===e.selected?(w="rgb(".concat(b[0]/2,", ").concat(b[1]/2,", ").concat(b[2]/2,")"),1==e.renderTerritoryOpaque?v+=.1:v+=.25):w="rgb(".concat(b[0],", ").concat(b[1],", ").concat(b[2],")");1==e.renderTerritoryOpaque?v+=.75:v+=.27,y="rgb(".concat(b[0]/3,", ").concat(b[1]/3,", ").concat(b[2]/3,")"),t.town.home===t.id&&(k=4)}else!0===e.selected&&(v+=.2),!0===e.isMainSelected&&(v+=.15);!0===e.renderTerritoryNoBorders&&(k=0);var T,E=i.x,_=!0===e.renderTerritoryIcons?m.y:i.y;return!0===e.renderTerritoryId?T=!0===e.renderTerritoryCost?"".concat(t.id,":"):"".concat(t.id):!0===e.renderTerritoryCost&&(E=m.x),n.createElement("g",{key:t.id,onMouseDown:function(r){2===r.button&&e.selectTerritory(t.id)}},n.createElement("g",null,s.map((function(e,t){return n.createElement("path",{key:t,strokeLinejoin:"round",strokeLinecap:"round",fillRule:"evenodd",stroke:y,strokeOpacity:"0.7",strokeWidth:k,fill:w,fillOpacity:v,d:e})}))),e.renderTerritoryIcons?n.createElement("g",null,f):null,e.renderTerritoryCost||e.renderTerritoryId?n.createElement("g",null,e.renderTerritoryId?n.createElement("text",{x:E,y:_,textRendering:"optimizeSpeed",fill:"#900",textAnchor:"end",style:{font:"bold 18px sans-serif"}},T):null,e.renderTerritoryCost?n.createElement("text",{x:E,y:_,textRendering:"optimizeSpeed",style:{font:"bold 18px sans-serif"}},t.cost):null):null)}},4360:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var n=r(3696),o=function(e){return n.createElement("pattern",{id:e.id,width:"10",height:"10",patternTransform:"rotate(45 0 0)",patternUnits:"userSpaceOnUse"},n.createElement("path",{d:"M 0,0 L 0,10 L 10,10 L 10,0 L 0,0",fill:e.fillColor}),n.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"10",stroke:e.stripeColor,strokeWidth:"7"}))}},4480:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.578 22.578' id='svg8' sodipodi:docname='icon-terr-remove-capture.svg' inkscape:version='1.1.1 (3bf5ae0d25, 2021-09-20)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3e %3cdefs id='defs12' /%3e %3csodipodi:namedview id='namedview10' pagecolor='%23ffffff' bordercolor='%23999999' borderopacity='1' inkscape:pageshadow='0' inkscape:pageopacity='0' inkscape:pagecheckerboard='0' inkscape:document-units='pt' showgrid='false' inkscape:zoom='6.1733737' inkscape:cx='31.992231' inkscape:cy='47.866858' inkscape:window-width='1920' inkscape:window-height='1051' inkscape:window-x='-9' inkscape:window-y='-9' inkscape:window-maximized='1' inkscape:current-layer='svg8' /%3e %3cmetadata id='metadata2'%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath id='rect931' style='fill:%23a1a1a1;fill-opacity:1;stroke-width:2' d='M 23.123047 27.929688 L 27.734375 49.587891 L 30.488281 46.833984 L 27.367188 32.173828 L 23.123047 27.929688 z M 32.804688 57.716797 L 30.050781 60.470703 L 32.789062 73.326172 L 35.984375 72.646484 L 32.804688 57.716797 z ' transform='scale(0.26458593)' /%3e %3cpath id='path1329' style='fill:%23a1a1a1;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' d='M 64.611328 9.8105469 C 64.611328 9.8105469 51.364368 16.020984 44.269531 17.519531 C 39.023383 18.627605 28.207031 18.388672 28.207031 18.388672 L 28.607422 20.216797 L 42.855469 34.464844 L 63.263672 14.054688 L 64.611328 9.8105469 z M 63.902344 26.613281 L 50.767578 39.751953 C 58.256637 37.894459 70.070312 31.970703 70.070312 31.970703 L 63.902344 26.613281 z M 32.310547 37.121094 L 32.939453 39.986328 C 32.939453 39.986328 33.991292 40.075501 35.367188 40.175781 L 32.310547 37.121094 z ' transform='scale(0.26458593)' /%3e %3cg id='g1236' style='stroke-width:1.41112496;stroke-miterlimit:4;stroke-dasharray:none;stroke:%23ffffff;stroke-opacity:1'%3e %3cpath d='M 4.1030435,18.101516 18.574859,3.6297071' fill='none' stroke='%23ffffff' stroke-width='2.11669' id='path4' style='stroke:%23ffffff;stroke-opacity:1;stroke-width:1.41112496;stroke-miterlimit:4;stroke-dasharray:none' /%3e %3cpath d='M 4.1030435,3.6294529 18.574859,18.101262' fill='none' stroke='%23ffffff' stroke-width='2.11669' id='path6' style='stroke:%23ffffff;stroke-opacity:1;stroke-width:1.41112496;stroke-miterlimit:4;stroke-dasharray:none' /%3e %3c/g%3e %3c/svg%3e"},4589:(e,t,r)=>{"use strict";var n=r(5292),o=r.n(n),i=r(9893),s=r.n(i),a=r(9383),d=r.n(a),c=r(6884),l=r.n(c),u=r(9088),p=r.n(u),m=r(7997),f=r.n(m),h=r(3796),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=d().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),o()(h.A,g),h.A&&h.A.locals&&h.A.locals},4749:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,"#nodes-editor-pane-world {\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n    overflow: hidden;\n}\n\n#nodes-editor-options-header {\n    height: 24px;\n    min-height: 24px;\n    flex-grow: 0;\n    font-weight: bold;\n    line-height: 24px;\n}\n\n#nodes-editor-options {\n    display: flex;\n    margin-bottom: 4px;\n}\n\n.nodes-editor-option-btn {\n    box-sizing: border-box;\n    width: 36px;\n    height: 36px;\n    margin: 2px;\n}\n\n.nodes-editor-option-btn .nodes-button-icon {\n    opacity: 0.5;\n}\n\n.nodes-editor-option-btn .nodes-button-icon-pressed {\n    opacity: 1.0;\n}\n\n#nodes-editor-town-header {\n    height: 24px;\n    min-height: 24px;\n    flex-grow: 0;\n    font-weight: bold;\n    line-height: 24px;\n    display: flex;\n}\n\n#nodes-editor-town-list {\n    flex-grow: 1;\n    min-height: 100px;\n    background-color: #111;\n}\n\n.nodes-editor-town-list-item {\n    display: flex;\n    box-sizing: border-box;\n    width: 100%;\n    height: 20px;\n    font-size: 14px;\n    user-select: none;\n    cursor: pointer;\n    overflow: hidden;\n}\n\n.nodes-editor-town-list-color {\n    box-sizing: border-box;\n    flex-shrink: 0;\n    width: 16px;\n    height: 16px;\n    margin: 2px;\n}\n\n.nodes-editor-town-list-name {\n    margin-left: 4px;\n}\n\n#nodes-editor-town-players-list {\n    flex-grow: 1;\n    min-height: 100px;\n    background-color: #111;\n}\n\n.nodes-editor-town-player-item {\n    display: flex;\n    width: 100%;\n    height: 20px;\n    font-size: 14px;\n    margin: 0px 4px;\n    user-select: none;\n    overflow: hidden;\n}\n\n.nodes-editor-town-player-item-rank {\n    width: 14px;\n    height: 14px;\n    padding: 2px;\n    margin-right: 4px;\n}\n\n#nodes-editor-nodes-list-container {\n    position: relative;\n}\n\n#nodes-editor-world-nodes-list {\n    height: 120px;\n    background-color: #111;\n}\n\n#nodes-editor-resource-tooltip {\n    z-index: 99999;\n    position: fixed;\n    left: 180px;\n    bottom: 0px;\n    box-sizing: border-box;\n    padding: 8px;\n    min-height: 200px;\n    width: 200px;\n    background-color: #222;\n    border: solid 1px #111;\n    user-select: none;\n}\n\n#nodes-editor-resource-tooltip-header {\n    display: flex;\n    width: 100%;\n    height: 32px;\n    user-select: none;\n    margin-bottom: 2px;\n}\n\n#nodes-editor-resource-tooltip-header-name {\n    flex-grow: 1;\n    height: 32px;\n    line-height: 32px;\n    padding-left: 4px;\n    font-size: 18px;\n    font-weight: bold;\n}\n\n#nodes-editor-resource-tooltip-header-icon {\n    box-sizing: border-box;\n    width: 32px;\n    min-width: 32px;\n    height: 32px;\n    flex-grow: 0;\n}\n\n#nodes-editor-resource-tooltip-header-img {\n    width: 24px;\n    height: 24px;\n    padding: 4px;\n}\n\n.nodes-editor-resource-tooltip-property {\n    margin-top: 4px;\n    margin-bottom: 2px;\n    font-weight: bold;\n}\n\n.nodes-editor-resource-tooltip-property-item {\n    padding-left: 8px;\n    margin-bottom: 2px;\n}\n\n.nodes-editor-resource-tooltip-property-none {\n    display: inline-block;\n    margin-left: 4px;\n    color: #777;\n}\n\n#nodes-editor-world-terr-info {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    column-gap: 8px;\n}",""]);const a=s},5149:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,".nodes-editor-panel-title {\n    height: 24px;\n    min-height: 24px;\n    flex-grow: 0;\n    font-weight: bold;\n    line-height: 24px;\n    display: flex;\n}\n\n.nodes-editor-section-header {\n    height: 24px;\n    min-height: 24px;\n    flex-grow: 0;\n    font-weight: bold;\n    line-height: 24px;\n    display: flex;\n    margin-top: 8px;\n}\n\n.nodes-editor-setting-field {\n    display: flex;\n    white-space: nowrap;\n    margin: 2px 0;\n    height: 18px;\n}\n\n.nodes-editor-setting-input {\n    flex-grow: 1;\n    margin-left: 8px;\n    background-color: #111;\n}\n\n.nodes-editor-setting-input input{\n    box-sizing: border-box;\n    width: 100%;\n    text-align: left;\n    padding: 0 4px;\n    background-color: rgba(0,0,0,0);\n    font-family: 'Courier New', Courier, monospace;\n    color: #fff;\n}\n\n.nodes-editor-help {\n    margin-top: 8px;\n    color: #888;\n    font-size: 12px;\n    user-select: none;\n}\n\n.nodes-editor-list-header {\n    height: 24px;\n    min-height: 24px;\n    flex-grow: 0;\n    font-weight: bold;\n    line-height: 24px;\n    display: flex;\n}\n\n.nodes-editor-list-header-text {\n    flex-grow: 1;\n}\n\n.nodes-editor-list-header-buttons {\n    display: flex;\n    flex-direction: row;\n    flex-shrink: 0;\n    flex-grow: 0;\n}\n\n.nodes-editor-list-header-btn {\n    box-sizing: border-box;\n    width: 20px;\n    height: 20px;\n    margin: 2px;\n}",""]);const a=s},5156:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,"#port-tooltip-container {\n    position: fixed;\n}\n\n#port-tooltip {\n    position: fixed;\n    font-size: 1.5em;\n    background-color: rgba(0, 0, 0, 0.7);\n    padding: 6px;\n    min-width: 200px;\n}",""]);const a=s},5304:(e,t,r)=>{"use strict";r.d(t,{$n:()=>k,Sc:()=>E,sk:()=>H,bo:()=>A,B8:()=>J});var n=r(5292),o=r.n(n),i=r(9893),s=r.n(i),a=r(9383),d=r.n(a),c=r(6884),l=r.n(c),u=r(9088),p=r.n(u),m=r(7997),f=r.n(m),h=r(6059),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=d().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),o()(h.A,g),h.A&&h.A.locals&&h.A.locals,r(3696);var w=r(3702),v={};v.styleTagTransform=f(),v.setAttributes=l(),v.insert=d().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=p(),o()(w.A,v),w.A&&w.A.locals&&w.A.locals;var y=r(3696);const k=function(e){var t={backgroundColor:!0===e.pressed?"#333":"#111"},r=e.className?"nodes-button "+e.className:"nodes-button",n="nodes-button-icon";return!0===e.pressed&&(t.borderBottom="0",t.borderLeft="0",t.borderTop="solid 1px #000",t.borderRight="solid 1px #000",n+=" nodes-button-icon-pressed"),y.createElement("div",{id:e.id,className:r,onClick:e.onClick,style:t,title:e.tooltip},e.children,void 0!==e.icon?y.createElement("img",{src:e.icon,className:n,draggable:"false"}):null)};var b=r(1913),x={};x.styleTagTransform=f(),x.setAttributes=l(),x.insert=d().bind(null,"head"),x.domAPI=s(),x.insertStyleElement=p(),o()(b.A,x),b.A&&b.A.locals&&b.A.locals;var T=r(3696);const E=function(e){function t(t){e.onChange(!e.checked)}var r=!0===e.disabled;return void 0!==e.className&&e.className,T.createElement("div",{id:e.id,className:"nodes-checkbox-container"},T.createElement("input",{type:"checkbox",checked:e.checked,className:"nodes-checkbox",onChange:t,readOnly:r}),T.createElement("div",{className:"nodes-checkbox-label",onMouseDown:t},e.label))};var _=r(3696),N=r(8947),I={};I.styleTagTransform=f(),I.setAttributes=l(),I.insert=d().bind(null,"head"),I.domAPI=s(),I.insertStyleElement=p(),o()(N.A,I),N.A&&N.A.locals&&N.A.locals;var S=r(3696);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const A=function(e){var t,r,n=(t=(0,_.useState)(String(e.value)),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,s,a=[],d=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(e){c=!0,o=e}finally{try{if(!d&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];(0,_.useEffect)((function(){i(String(e.value))}),[e.value]);var s=(0,_.useRef)(null),a={};a.textAlign=void 0!==e.textAlign?e.textAlign:void 0;var d=!0===e.disabled;return S.createElement("div",{id:e.id,className:"nodes-input-edit "+e.className,onDoubleClick:function(){null!==s.current&&s.current.focus()}},S.createElement("input",{ref:s,value:o,style:a,className:"nodes-input-edit-input",onKeyDown:function(t){"Enter"===t.key&&null!==s.current&&(void 0!==e.onEnterKey?e.onEnterKey():s.current.blur())},onChange:function(t){!0===e.bubbleChange?e.onChange(t.target.value):i(t.target.value)},onBlur:function(){e.onChange(o)},readOnly:d}))};var R=r(2402),z={};z.styleTagTransform=f(),z.setAttributes=l(),z.insert=d().bind(null,"head"),z.domAPI=s(),z.insertStyleElement=p(),o()(R.A,z),R.A&&R.A.locals&&R.A.locals;var O=r(3696);function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,s,a=[],d=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(e){c=!0,o=e}finally{try{if(!d&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(e,t,r){return"#"+((1<<24)+(e<<16)+(t<<8)+r).toString(16).slice(1)}function W(e,t,r,n){var o=null!=e?e:0,i=null!=t?t:0,s=null!=r?r:0;void 0!==e&&(o=Math.round(Math.min(Math.max(e,0),255)),o=Number.isNaN(o)?0:o),void 0!==t&&(i=Math.round(Math.min(Math.max(t,0),255)),i=Number.isNaN(i)?0:i),void 0!==r&&(s=Math.round(Math.min(Math.max(r,0),255)),s=Number.isNaN(s)?0:s);var a,d=j(o,i,s),c=Math.max(o,i,s),l=c-Math.min(o,i,s);0!==l?c===o?a=60*((i<s?6:0)+(i-s)/l):c===i?a=60*(2+(s-o)/l):c===s&&(a=60*(4+(o-i)/l)):a=0,n(d,o,i,s,a,0===c?0:l/c,c/255)}function D(e,t,r,n){var o,i,s,a=e/60,d=t*r,c=d*(1-Math.abs(a%2-1)),l=r-d;switch(Math.floor(a%6)){case 0:o=d+l,i=c+l,s=l;break;case 1:o=c+l,i=d+l,s=l;break;case 2:o=l,i=d+l,s=c+l;break;case 3:o=l,i=c+l,s=d+l;break;case 4:o=c+l,i=l,s=d+l;break;case 5:o=d+l,i=l,s=c+l;break;default:o=l,i=l,s=l}n(j(o=Math.round(255*o),i=Math.round(255*i),s=Math.round(255*s)),o,i,s,e,t,r)}function F(e,t){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);void 0!==r&&W(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16),t)}var M=function(e){var t=e.hue,r=e.sat,n=e.val,o=e.onChange,i=(0,_.useRef)(null),s=function(e){var r,n,s=e.clientX,a=e.clientY,d=i.current.getBoundingClientRect();r=s>d.right?1:s<d.left?0:(s-d.left)/d.width,n=a<d.top?1:a>d.bottom?0:1-(a-d.top)/d.height,o(t,r,n)},a=function e(){window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",e)},d={left:(100*r).toString()+"%",top:(100*(1-n)).toString()+"%"},c={background:"hsl(".concat(t,",100%, 50%)")};return O.createElement("div",{className:"nodes-colorpicker-saturation",ref:i,style:c,onMouseDown:function(e){e.preventDefault(),s(e),window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)}},O.createElement("div",{className:"nodes-colorpicker-saturation-white"},O.createElement("div",{className:"nodes-colorpicker-saturation-black"},O.createElement("div",{className:"nodes-colorpicker-saturation-pointer",style:d},O.createElement("div",{className:"nodes-colorpicker-saturation-pointer-circle"})))))},B=function(e){var t=e.hue,r=e.onChange,n=(0,_.useRef)(null),o=function(e){var t,o=e.clientX,i=n.current.getBoundingClientRect();t=o>i.right?1:o<i.left?0:(o-i.left)/i.width,r(Math.round(360*t))},i=function e(){window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",e)},s={left:(t/3.6).toString()+"%"};return O.createElement("div",{className:"nodes-colorpicker-hue",ref:n,onMouseDown:function(e){e.preventDefault(),o(e),window.addEventListener("mousemove",o),window.addEventListener("mouseup",i)}},O.createElement("div",{style:s,className:"nodes-colorpicker-hue-pointer"},O.createElement("div",{className:"nodes-colorpicker-hue-pointer-slider"})))};const H=function(e){e.enabled;var t=e.color,r=e.top,n=e.left,o=e.onChange,i=e.onExit,s=L((0,_.useState)("#FFFFFF"),2),a=s[0],d=s[1],c=L((0,_.useState)(255),2),l=c[0],u=c[1],p=L((0,_.useState)(255),2),m=p[0],f=p[1],h=L((0,_.useState)(255),2),g=h[0],w=h[1],v=L((0,_.useState)(0),2),y=v[0],k=v[1],b=L((0,_.useState)(0),2),x=b[0],T=b[1],E=L((0,_.useState)(1),2),N=E[0],I=E[1],S=L((0,_.useState)({display:"none"}),2),C=S[0],R=S[1],z=(0,_.useRef)(l),P=(0,_.useRef)(m),H=(0,_.useRef)(g),K=function(e,t,r,n,i,s,a){var c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];d(e),u(t),f(r),w(n),k(i),T(s),I(a),z.current=t,P.current=r,H.current=n,void 0!==o&&c&&o({r:t,g:r,b:n,hex:e})},Y=function(){var e=z.current,t=P.current,r=H.current;i({r:e,g:t,b:r,hex:j(e,t,r)})};return(0,_.useEffect)((function(){var e={},o=r+190<window.innerHeight,i=n+190<window.innerWidth;o?e.top=Math.max(0,r):e.bottom=0,i?e.left=Math.max(0,n):e.right=0,R(e),void 0!==t&&("string"==typeof t?F(t,(function(e,t,r,n,o,i,s){return K(e,t,r,n,o,i,s,!1)})):Array.isArray(t)&&W(t[0],t[1],t[2],(function(e,t,r,n,o,i,s){return K(e,t,r,n,o,i,s,!1)})));var s=function(e){null===e.target.closest("div.nodes-colorpicker")&&Y()},a=function(e){27===e.keyCode&&Y()};return window.addEventListener("mousedown",s),window.addEventListener("keydown",a),function(){window.removeEventListener("mousedown",s),window.removeEventListener("keydown",a)}}),[r,n]),O.createElement("div",{className:"nodes-colorpicker",style:C},O.createElement(M,{hue:y,sat:x,val:N,onChange:function(e,t,r){return D(e,t,r,K)}}),O.createElement(B,{hue:y,onChange:function(e){return D(e,x,N,K)}}),O.createElement("div",{className:"nodes-colorpicker-fields"},O.createElement("div",{className:"nodes-colorpicker-fields-hex"},O.createElement(A,{value:a,onChange:function(e){return F(e,K)}})),O.createElement("div",{className:"nodes-colorpicker-fields-tone"},O.createElement(A,{value:l,onChange:function(e){return W(e,m,g,K)}})),O.createElement("div",{className:"nodes-colorpicker-fields-tone"},O.createElement(A,{value:m,onChange:function(e){return W(l,e,g,K)}})),O.createElement("div",{className:"nodes-colorpicker-fields-tone"},O.createElement(A,{value:g,onChange:function(e){return W(l,m,e,K)}}))),O.createElement("div",{className:"nodes-colorpicker-fields nodes-colorpicker-fields-labels"},O.createElement("div",{className:"nodes-colorpicker-fields-hex"},"Hex"),O.createElement("div",{className:"nodes-colorpicker-fields-tone"},"R"),O.createElement("div",{className:"nodes-colorpicker-fields-tone"},"G"),O.createElement("div",{className:"nodes-colorpicker-fields-tone"},"B")))};var K=r(662),Y={};Y.styleTagTransform=f(),Y.setAttributes=l(),Y.insert=d().bind(null,"head"),Y.domAPI=s(),Y.insertStyleElement=p(),o()(K.A,Y),K.A&&K.A.locals&&K.A.locals,r(7424);var $=r(3696);function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const J=function(e){var t,r,n=void 0!==e.heightOfItem?e.heightOfItem:28,o=void 0!==e.maxItemsToRender?e.maxItemsToRender:100,i=$.createRef(),s=(0,_.useRef)(0),a=(t=(0,_.useState)(0),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,s,a=[],d=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(e){c=!0,o=e}finally{try{if(!d&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=a[0],c=a[1],l=$.Children.count(e.children),u=d-o>0?Math.floor(d)-o:0,p=d+o>=l?l:Math.floor(d+o),m=u*n,f=(l-p)*n,h=void 0!==e.className?"nodes-basic-list nodes-scrollbar "+e.className:"nodes-basic-list nodes-scrollbar",g={height:n,lineHeight:String(n)+"px"};void 0!==e.itemStyle&&Object.assign(g,e.itemStyle);var w=$.Children.toArray(e.children).slice(u,p).map((function(t,r){return $.createElement("div",{className:e.selected===u+r?"nodes-simple-select-list-item nodes-simple-select-list-item-selected":"nodes-simple-select-list-item",key:"nodes-list-item-"+r.toString(),onMouseDown:function(){return function(t){void 0!==e.select&&(e.selected===t?e.deselect&&e.deselect(e.list[t],t):(void 0!==e.selected&&e.deselect&&e.deselect(e.list[e.selected],e.selected),e.select(e.list[t],t)))}(u+r)},style:g},t)}));return $.createElement("div",{ref:i,className:h,id:e.id,style:e.style,onScroll:function(){if(null!==i.current){s.current=i.current.scrollTop;var e=i.current.scrollTop/n;Math.abs(d-e)>=o/2&&c(e)}}},$.createElement("div",{key:"nodes-list-top-spacer",style:{height:m}}),w,$.createElement("div",{key:"nodes-list-bottom-spacer",style:{height:f}}))}},5308:(e,t,r)=>{"use strict";r.d(t,{BE:()=>o,J1:()=>s,LV:()=>a,UV:()=>i,rA:()=>n,ug:()=>c,wS:()=>d});var n=0,o=1,i=2,s=0,a=1,d=2,c=Object.freeze({ALPHABETICAL:Symbol("alphabetical"),PLAYERS:Symbol("players"),TERRITORIES:Symbol("territories")})},5357:e=>{e.exports="data:image/svg+xml,%3csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' id='svg8' version='1.1' viewBox='0 0 22.577777 22.577777' height='64pt' width='64pt'%3e %3cdefs id='defs2' /%3e %3cmetadata id='metadata5'%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3e %3cdc:title%3e%3c/dc:title%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cg transform='translate(0,-274.42223)' id='layer1'%3e %3ccircle r='10.087311' cy='285.71112' cx='11.288889' id='path4506' style='opacity:1;fill:none;fill-opacity:1;stroke:%23fcffff;stroke-width:1.41111111;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3e %3cpath id='path4508' d='m 11.752989,275.91106 c 1.335087,0.12324 2.924751,1.85149 2.924751,1.85149 l -3.974536,0.61795 2.474281,1.21224 -3.6524857,0.47394 -1.5342821,2.61829 -2.04226,-0.24611 0.7374297,-1.49295 -1.1526033,-1.70377 -1.5106826,2.40981 c 0,0 -0.6657971,-2.14893 -0.3437341,-2.51135 2.2415982,-2.52244 4.6181173,-3.54854 8.0741221,-3.22954 z' style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.26458332;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1' /%3e %3cpath id='path4510' d='m 16.227777,285.00557 -2.469444,-0.70556 -1.763889,3.52778 3.527778,3.88056 1.058333,-3.88056 3.527778,-2.11667 -2.822222,-2.11666 z' style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3e %3cpath id='path4556' d='m 1.411111,285.71112 c 0.094074,-0.65852 1.7638888,-1.41111 1.7638888,-1.41111 l 1.0583332,1.41111 -0.7055554,1.41111 3.5277774,1.41111 -1.411111,1.41111 2.1166667,1.05834 -1.411111,1.05833 -1.4111111,-0.70556 c 0,0 -0.4044303,1.77247 -0.7055556,1.41112 -1.7638887,-2.11667 -3.1749997,-4.58612 -2.822222,-7.05556 z' style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3e %3cpath id='path4558' d='m 10.583333,289.94446 1.411111,-0.35278 -0.352777,1.41111 z' style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' /%3e %3cpath id='path4575' d='m 9.1722217,291.35556 1.7638883,0.35278 -0.352777,1.76389 -1.0583336,-1.05833 z' style='fill:%23ffffff;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;fill-opacity:1' /%3e %3cpath id='path4577' d='m 13.052777,291.00279 1.411111,0.35277 v 1.05834 l -1.763889,-0.35278 z' style='fill:%23ffffff;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;fill-opacity:1' /%3e %3cpath id='path4579' d='M 10.93611,288.88612 H 9.1722217 l -1.0583334,-0.70556 -0.7055553,0.70556 1.7638887,0.70556 1.4111113,-0.35278 z' style='fill:%23ffffff;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;fill-opacity:1' /%3e %3c/g%3e %3c/svg%3e"},5506:(e,t,r)=>{"use strict";var n=r(5292),o=r.n(n),i=r(9893),s=r.n(i),a=r(9383),d=r.n(a),c=r(6884),l=r.n(c),u=r(9088),p=r.n(u),m=r(7997),f=r.n(m),h=r(3365),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=d().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),o()(h.A,g),h.A&&h.A.locals&&h.A.locals},5616:(e,t,r)=>{"use strict";var n=r(5292),o=r.n(n),i=r(9893),s=r.n(i),a=r(9383),d=r.n(a),c=r(6884),l=r.n(c),u=r(9088),p=r.n(u),m=r(7997),f=r.n(m),h=r(2837),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=d().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),o()(h.A,g),h.A&&h.A.locals&&h.A.locals},5803:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath d='m2.05253 6.06137h3.9447v-3.9447h10.5192v6.5745h3.9447v7.8894h-3.9447v3.9447h-10.5192v-6.5745h-3.9447z' fill='none' stroke='%23fdffff' stroke-width='.705556'/%3e %3cg fill='%23fff'%3e %3cpath d='m8.3705 11.0644 3.84843-2.56562 2.56562 1.28281-3.84843 2.56562z'/%3e %3cpath d='m8.14611 11.4556v1.60022l2.56036 1.28018v-1.60022z'/%3e %3cpath d='m11.1366 12.7609v1.51696l3.64072-2.42714v-1.51696z'/%3e %3c/g%3e %3c/svg%3e"},5936:(e,t,r)=>{"use strict";var n=r(5292),o=r.n(n),i=r(9893),s=r.n(i),a=r(9383),d=r.n(a),c=r(6884),l=r.n(c),u=r(9088),p=r.n(u),m=r(7997),f=r.n(m),h=r(5149),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=d().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),o()(h.A,g),h.A&&h.A.locals&&h.A.locals},6059:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,"/**\n * editor.css\n * --------------------------------------------------\n * CSS for arrow components\n */\n\n\n.nodes-arrow-left {\n    margin-bottom: 2px;\n    transform: rotate(135deg);\n}\n\n.nodes-arrow-right {\n    margin-bottom: 2px;\n    transform: rotate(-45deg);\n}\n\n.nodes-arrow-up {\n    margin-top: 4px;\n    transform: rotate(-135deg);\n}\n\n.nodes-arrow-down {\n    margin-bottom: 4px;\n    transform: rotate(45deg);\n}\n\n.nodes-arrow-northwest {\n    margin-top: 2px;\n    transform: rotate(180deg);\n}\n\n.nodes-arrow-northeast {\n    margin-top: 2px;\n    transform: rotate(-90deg);\n}\n\n.nodes-arrow-southwest {\n    margin-bottom: 2px;\n    transform: rotate(90deg);\n}\n\n.nodes-arrow-southeast {\n    margin-bottom: 2px;\n    transform: rotate(0deg);\n}\n",""]);const a=s},6094:(e,t,r)=>{"use strict";r.a(e,(async(e,n)=>{try{r.d(t,{K:()=>L});var o=r(3696),i=(r(7424),r(5616),r(5304)),s=r(3956),a=r(6459),d=r(220),c=r(7332),l=r(7073),u=r(9306),p=r(2845),m=r.n(p),f=r(8407),h=r.n(f),g=r(2286),w=r.n(g),v=r(5357),y=r.n(v),k=r(831),b=r.n(k),x=r(1218),T=r.n(x),E=r(2577),_=r.n(E),N=r(3242),I=r.n(N),S=r(6347),C=r.n(S),A=r(3696),R=e([s,d,c]);function P(e,t){return M(e)||F(e,t)||W(e,t)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,s,a=[],d=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(e){c=!0,o=e}finally{try{if(!d&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}function M(e){if(Array.isArray(e))return e}[s,d,c]=R.then?(await R)():R;var z=function(e){var t="nodes-editor-tab";return e.selected&&(t+=" nodes-editor-tab-selected"),A.createElement("div",{className:t,onClick:e.onClick},A.createElement("img",{src:e.icon,className:"nodes-editor-tab-icon",draggable:"false"}))},O=function(e){return A.createElement(A.Fragment,null,e.active?A.createElement("div",{id:e.id,className:"nodes-editor-pane"},e.children):null)};function B(e){return A.createElement("div",{className:"nodes-editor-header-btn-container"},A.createElement("div",{className:"nodes-editor-header-btn",style:e.style,onMouseDown:e.onMouseDown},A.createElement("img",{src:e.icon,className:"nodes-editor-header-btn-icon",draggable:"false",style:e.styleIcon})),A.createElement("div",{className:"nodes-editor-header-btn-tooltip"},A.createElement("div",{className:"nodes-editor-header-btn-tooltip-text"},e.hint)))}var L=function(e){var t=P((0,o.useState)(0),2),r=t[0],n=t[1],p=P((0,o.useState)(!1),2),f=p[0],g=p[1],v=P((0,o.useState)("#ff0000"),2),k=v[0],x=v[1],E=P((0,o.useState)(100),2),N=E[0],S=E[1],R=P((0,o.useState)(100),2),L=R[0],j=R[1],W=P((0,o.useState)((function(){return function(e){return console.log("Color picker onChange:",e)}})),2),D=W[0],F=W[1],M=P((0,o.useState)((function(){return function(e){return console.log("Color picker onExit:",e)}})),2),H=M[0],K=M[1];(0,o.useEffect)((function(){2===r?e.setEditingTerritoryNodes(!0):e.setEditingTerritoryNodes(!1)}),[r]);var Y=(0,o.useRef)(null),$=(0,o.useRef)(!1),X=function(e){$.current=e,null!==Y.current&&Y.current.click()};return A.createElement(A.Fragment,null,A.createElement("div",{id:"nodes-editor"},A.createElement("input",{ref:Y,id:"nodes-file-uploader",type:"file",name:"file",onChange:function(t){!function(t){var r=t.target.files[0];if(void 0!==r&&"application/json"===r.type){var n=new FileReader;n.onload=function(t){var r=JSON.parse(t.target.result);e.load(r,$.current)},n.readAsText(r)}t.target.value=null}(t)}}),A.createElement("div",{id:"nodes-header"},A.createElement("div",{id:"nodes-header-text"},"nodes!!! :DDD"),A.createElement("div",{id:"nodes-header-btns"},e.uploadEnabled?A.createElement(A.Fragment,null,A.createElement(B,{hint:"Merge",icon:h(),onMouseDown:function(){X(!0)}}),A.createElement(B,{hint:"Load",icon:m(),onMouseDown:function(){X(!1)}})):null,e.editorEnabled?A.createElement(B,{hint:"Save",icon:w(),onMouseDown:e.save}):null)),e.editorEnabled?A.createElement("div",{id:"nodes-editor-tabs-container"},A.createElement(z,{name:"World",icon:y(),selected:0===r,onClick:function(){return n(0)}}),e.editorEnabled?A.createElement(A.Fragment,null,A.createElement(z,{name:"Territory",icon:b(),selected:1===r,onClick:function(){return n(1)}}),A.createElement(z,{name:"Nodes",icon:T(),selected:2===r,onClick:function(){return n(2)}}),A.createElement(z,{name:"Generation",icon:_(),selected:3===r,onClick:function(){return n(3)}}),A.createElement(z,{name:"Towns",icon:I(),selected:4===r,onClick:function(){return n(4)}}),A.createElement(z,{name:"Options",icon:C(),selected:5===r,onClick:function(){return n(5)}})):null):null,A.createElement("div",{id:"nodes-editor-pane-container",className:"nodes-scrollbar"},A.createElement(O,{id:"nodes-editor-pane-world",active:0===r},A.createElement(l.v,{renderTerritoryIcons:e.renderTerritoryIcons,setRenderTerritoryIcons:e.setRenderTerritoryIcons,renderTerritoryId:e.renderTerritoryId,setRenderTerritoryId:e.setRenderTerritoryId,renderTerritoryCost:e.renderTerritoryCost,setRenderTerritoryCost:e.setRenderTerritoryCost,renderTerritoryOpaque:e.renderTerritoryOpaque,setRenderTerritoryOpaque:e.setRenderTerritoryOpaque,renderTerritoryNoBorders:e.renderTerritoryNoBorders,setRenderTerritoryNoBorders:e.setRenderTerritoryNoBorders,renderTerritoryCapitals:e.renderTerritoryCapitals,setRenderTerritoryCapitals:e.setRenderTerritoryCapitals,renderTownNames:e.renderTownNames,setRenderTownNames:e.setRenderTownNames,setTownSortKey:e.setTownSortKey,resourceIcons:e.resourceIcons,nodes:e.nodes,towns:e.towns,townsNameList:e.townsNameList,selectedTown:e.selectedTown,selectedTownIndex:e.selectedTownIndex,selectTown:e.selectTown,selectedTerritory:e.selectedTerritory})),e.editorEnabled?A.createElement(A.Fragment,null,A.createElement(O,{id:"nodes-editor-pane-terr",active:1===r},A.createElement(c.b,{x:e.x,z:e.z,resourceIcons:e.resourceIcons,nodes:e.nodes,selectedTerritory:e.selectedTerritory,createTerritory:e.createTerritory,deleteTerritory:e.deleteTerritory,setTerritoryName:e.setTerritoryName,addNodeToTerritory:e.addNodeToTerritory,removeNodeFromTerritory:e.removeNodeFromTerritory,setPainting:e.setPainting,togglePainting:e.togglePainting,paintRadius:e.paintRadius})),A.createElement(O,{id:"nodes-editor-pane-nodes",active:2===r},A.createElement(a.q,{resourceIcons:e.resourceIcons,nodes:e.nodes,nodesNameList:e.nodesNameList,createNode:e.createNode,deleteNode:e.deleteNode,selectedNodeIndex:e.selectedNodeIndex,setSelectedNode:e.setSelectedNode,renameNode:e.renameNode,setNodeIcon:e.setNodeIcon,setNodeData:e.setNodeData})),A.createElement(O,{id:"nodes-editor-pane-generation",active:3===r},A.createElement(s.p,null)),A.createElement(O,{id:"nodes-editor-pane-options",active:4===r},A.createElement(u.u,{saveTowns:e.saveTowns,towns:e.towns,townsNameList:e.townsNameList,selectedTown:e.selectedTown,selectedTownIndex:e.selectedTownIndex,selectTown:e.selectTown,setTownSortKey:e.setTownSortKey,createTown:e.createTown,deleteTown:e.deleteTown,setTownName:e.setTownName,setTownNationFromName:e.setTownNationFromName,setTownHome:e.setTownHome,addTownResident:e.addTownResident,removeTownResident:e.removeTownResident,setSelectedTownHomeToSelectedTerritory:e.setSelectedTownHomeToSelectedTerritory,addSelectedTownSelectedTerritories:e.addSelectedTownSelectedTerritories,addSelectedTownSelectedTerritoriesAsCaptured:e.addSelectedTownSelectedTerritoriesAsCaptured,removeSelectedTownSelectedTerritories:e.removeSelectedTownSelectedTerritories,removeSelectedTerritoriesOwned:e.removeSelectedTerritoriesOwned,removeSelectedTerritoriesCaptured:e.removeSelectedTerritoriesCaptured,setSelectedTownColor:e.setSelectedTownColor,setSelectedTownNationColor:e.setSelectedTownNationColor,setColorPicker:function(e,t,r,n,o,i){g(e),x(t),S(r),j(n),F((function(){return o})),K((function(){return i}))}})),A.createElement(O,{id:"nodes-editor-pane-options",active:5===r},A.createElement(d.T,{territoryCost:e.territoryCost,setTerritoryCost:e.setTerritoryCost}))):null)),f?A.createElement(i.sk,{enabled:f,color:k,top:N,left:L,onChange:D,onExit:H}):null)};n()}catch(H){n(H)}}))},6135:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.6 22.6' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cg fill='%23fff'%3e %3cpath d='m4.94375 13.4188 6.35625 2.825 6.35625-2.825v3.53125l-6.35625 2.825-6.35625-2.825z'/%3e %3crect x='4.94375' y='2.47187' width='12.7125' height='3.17813'/%3e %3cpath d='m4.94375 7.76875 6.35625 2.825 6.35625-2.825v3.53125l-6.35625 2.825-6.35625-2.825z'/%3e %3c/g%3e %3c/svg%3e"},6199:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath d='m11.2889 10.0001-9.15338 5.2305 9.15338 5.2305 9.15338-5.2305z' fill='none' stroke='%23fff' stroke-width='1.05833'/%3e %3cpath d='m11.2889 2.55054-7.40834 4.15224 7.40834 4.15224 7.40834-4.15224z' fill='%23fff' fill-opacity='.392157' stroke='%23fff' stroke-width='1.05833'/%3e %3cpath d='m9.87779 6.88757v7.22355h-3.175l4.58612 4.23334 4.58612-4.23334h-3.175v-7.22355z' fill='%23fff'/%3e %3c/svg%3e"},6200:(e,t,r)=>{"use strict";r.a(e,(async(e,n)=>{try{r.r(t),r.d(t,{default:()=>Z}),r(1001);var o=r(7470),i=r(2249),s=r(5745),a=r(5308),d=r(8834),c=r.n(d),l=r(4360),u=r(6094),p=r(1690),m=r(4332),f=r(1795),h=r(398),g=r(3696),w=e([u,p,h]);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function z(e){return j(e)||P(e)||K(e)||O()}function O(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function j(e){if(Array.isArray(e))return Y(e)}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,s,a=[],d=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(e){c=!0,o=e}finally{try{if(!d&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}function B(e){if(Array.isArray(e))return e}function H(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=K(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function K(e,t){if(e){if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function J(e,t,r){return t&&X(e.prototype,t),r&&X(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function U(e,t,r){return(t=q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){var t=V(e,"string");return"symbol"===R(t)?t:String(t)}function V(e,t){if("object"!==R(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}[u,p,h]=w.then?(await w)():w;var v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$(this,e),Object.assign(this,e.defaultProps,t)}return J(e,[{key:"export",value:function(){return this}}]),e}();U(v,"defaultProps",Object.freeze({name:void 0,icon:null,cost:{scale:1,constant:0},priority:0}));var y=function(){function e(t){$(this,e),Object.assign(this,e.defaultProps,{id:t}),Object.seal(this)}return J(e,[{key:"export",value:function(){return this}}]),e}();U(y,"defaultProps",Object.freeze({id:void 0,name:"",core:void 0,coreChunk:void 0,borders:void 0,size:0,neighbors:[],isEdge:!1,nodes:[],terrElement:void 0,town:void 0,occupier:void 0,color:void 0,cost:0,selected:!1}));var k=function(){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$(this,e),Object.assign(this,e.defaultProps,r),this.uuid=null!==(t=this.uuid)&&void 0!==t?t:(0,s.A)()}return J(e,[{key:"export",value:function(){return this}}]),e}();U(k,"defaultProps",Object.freeze({uuid:void 0,name:"Anonymous",prefix:"",suffix:"",town:void 0,nation:void 0,rank:a.rA}));var b=function(){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$(this,e),Object.assign(this,e.defaultProps,r),this.original=r,Object.seal(this),this.uuid=null!==(t=this.uuid)&&void 0!==t?t:(0,s.A)()}return J(e,[{key:"export",value:function(){return Object.assign({},this.original,{uuid:this.uuid,color:this.colorTown,open:this.open,leader:this.leader,residents:this.residentUuids,territories:this.territories,annexed:this.annexed,captured:this.captured,home:this.home,spawn:this.spawn,allies:this.allies,enemies:this.enemies,truce:this.truce,income:this.income,incomeEgg:this.incomeEgg,claimsBonus:this.claimsBonus,claimsPenalty:this.claimsPenalty})}}]),e}();U(b,"defaultProps",Object.freeze({uuid:void 0,name:void 0,color:[255,255,255],colorTown:[255,255,255],colorNation:[255,255,255],open:!1,leader:void 0,playerNames:[],residents:[],residentUuids:[],territories:[],annexed:[],captured:[],home:-1,spawn:[0,0,0],allies:[],enemies:[],truce:[],nation:void 0}));var x=function(){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$(this,e),Object.assign(this,e.defaultProps,r),this.original=r,Object.seal(this),this.uuid=null!==(t=this.uuid)&&void 0!==t?t:(0,s.A)()}return J(e,[{key:"export",value:function(){return Object.assign({},this.original,{uuid:this.uuid,capital:this.capital,color:this.color,towns:this.towns,allies:this.allies,enemies:this.enemies})}}]),e}();U(x,"defaultProps",Object.freeze({uuid:void 0,capital:void 0,color:[255,255,255],towns:[],allies:[],enemies:[],numPlayers:0,numTerritories:0}));var T=J((function e(t,r,n,o){$(this,e),this.name=t,this.group=r,this.groupsString=r.join(", "),this.x=n,this.z=o,Object.seal(this)})),E=function e(t){A._stopPaint(),window.removeEventListener("mouseup",e)},_=function(e){e.preventDefault(),2===e.button&&(A._startPaint(),window.addEventListener("mouseup",E))},N=function(e){A._stopPaint(),window.removeEventListener("mouseup",E)},I=!0,S=!0,C=L.Layer.extend({options:{pane:"nodesPane",padding:.25},initialize:function(e,t){L.Util.setOptions(this,t),L.Util.stamp(this),this._layers=this._layers||{},this._setTransform=e},onAdd:function(){this._center=this._map.getCenter(),this._zoom=this._map.getZoom();var e=this.options.padding,t=this._map.getSize(),r=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new L.Bounds(r,r.add(t.multiplyBy(1+2*e)).round()),this._updateTransform(this._center,this._zoom),this._update()},onRemove:function(){this.off("update",this._updatePaths,this)},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom)},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_onZoomStart:function(){},_onZoomEnd:function(){},_updateTransform:function(e,t){var r=this._map.getZoomScale(t,this._zoom),n=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,t),i=this._map.project(e,t).subtract(o);this._topLeftOffset=n.multiplyBy(-r).add(n).subtract(i),this._setContainerTransformString(r),this._zoom=t,this._center=e},_setContainerTransformString:function(e){var t=this._topLeftOffset.add(this._bounds.min);this._transformString=(L.Browser.ie3d?"translate("+t.x+"px,"+t.y+"px)":"translate3d("+t.x+"px,"+t.y+"px,0)")+(e?" scale("+e+")":"")},_update:function(){if(!this._map._animatingZoom||!this._bounds){var e=this.options.padding,t=this._map.getSize(),r=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round(),n=new L.Bounds(r,r.add(t.multiplyBy(1+2*e)).round());this._center=this._map.getCenter(),this._zoom=this._map.getZoom(),this._bounds=n;var o=n.getSize(),i=o.x,s=o.y,a=[n.min.x,n.min.y,o.x,o.y].join(" ");this._setContainerTransformString(),this._setTransform(i,s,a,this._transformString,this._map.getZoom()),this.fire("update")}}}),A={version:{major:0,minor:1,patch:0},residents:new Map,towns:new Map,townsList:[],nations:new Map,territories:new Map,territoryIdToIndex:new Map,nodes:new Map,nodesNameList:[],ports:new Map,portsJsx:[],townCapitalElementsJsx:[],townNameElementsJsx:[],resourceIcons:new Map,defaultResourceIconFiles:["nodes/resource_icons.json"],territoryCost:{scale:1,constant:10},defaultNodeProperties:{income:{},ore:{},crops:{},animals:{}},defaultNodeString:JSON.stringify(Object.assign(new v({name:"null"}),{income:{},ore:{},crops:{},animals:{}}),null,3),wasmWorld:new h.HK(16),dynmap:void 0,dynmapSvgContainer:void 0,dynmapSvgContainerRoot:void 0,editorContainer:void 0,editorContainerRoot:void 0,portTooltipContainer:void 0,portTooltipContainerRoot:void 0,screenX:0,screenY:0,cursorX:0,cursorY:0,chunkX:0,chunkY:0,cursorLatLng:{lat:0,lng:0},selectedNodeName:void 0,selectedNodeIndex:void 0,selectedTerritory:void 0,selectedTerritories:new Map,selectedTown:void 0,selectedTownIndex:void 0,shiftKey:!1,ctrlKey:!1,isPainting:!1,paintRadius:2,isEditingTerritoryNodes:!1,minPaintRadius:1,maxPaintRadius:10,townsSortKey:a.ug.TERRITORIES,generatorAverageRadius:4,generatorScaleX:1,generatorScaleY:1,generatorRandomSeed:0,generatorIterationsSmoothCenters:2,generatorIterationsSmoothCorners:2,generatorDeleteSmallerThan:0,generatorMergeSmallerThan:0,generatorCopyName:!0,resourceDistributeRandomSeed:0,resourceDistributeSettings:{},mapWidth:0,mapHeight:0,mapViewbox:"",mapTransform:"",mapZoom:0,territoryElements:[],stripePatterns:[],backgroundImageSrc:void 0,backgroundImageName:"",backgroundImageOriginX:0,backgroundImageOriginY:0,backgroundImageEndX:0,backgroundImageEndY:0,backgroundImageWidth:0,backgroundImageHeight:0,renderTerritoryIcons:!0,renderTerritoryId:!1,renderTerritoryCost:!1,renderTerritoryOpaque:!1,renderTerritoryNoBorders:!1,renderTerritoryCapitals:!1,renderTerritoryColors:!1,renderTownNames:0,initialize:function(e,t){var r,n,i,s,a,d,c;A.editorContainer=e.container,A.editorContainerRoot=(0,o.H)(e.container),A.portTooltipContainer=e.portTooltipContainer,A.portTooltipContainerRoot=(0,o.H)(e.portTooltipContainer),void 0!==e.backgroundImage&&(A.backgroundImageSrc=e.backgroundImage,A.backgroundImageName=e.backgroundImage),void 0!==e.backgroundImageOriginX&&(A.backgroundImageOriginX=e.backgroundImageOriginX),void 0!==e.backgroundImageOriginY&&(A.backgroundImageOriginY=e.backgroundImageOriginX),void 0!==e.backgroundImageWidth&&(A.backgroundImageWidth=e.backgroundImageWidth,A.backgroundImageEndX=A.backgroundImageOriginX+A.backgroundImageWidth),void 0!==e.backgroundImageHeight&&(A.backgroundImageHeight=e.backgroundImageHeight,A.backgroundImageEndY=A.backgroundImageOriginY+A.backgroundImageHeight),void 0!==e.minPaintRadius&&(A.minPaintRadius=e.minPaintRadius),void 0!==e.maxPaintRadius&&(A.maxPaintRadius=e.maxPaintRadius),void 0!==e.editor&&!1===e.editor&&(I=!1),void 0!==e.uploadEnabled&&!1===e.uploadEnabled&&(S=!1),A.renderTerritoryIcons=null!==(r=e.renderTerritoryIcons)&&void 0!==r?r:A.renderTerritoryIcons,A.renderTerritoryId=null!==(n=e.renderTerritoryId)&&void 0!==n?n:A.renderTerritoryId,A.renderTerritoryCost=null!==(i=e.renderTerritoryCost)&&void 0!==i?i:A.renderTerritoryCost,A.renderTerritoryOpaque=null!==(s=e.renderTerritoryOpaque)&&void 0!==s?s:A.renderTerritoryOpaque,A.renderTerritoryNoBorders=null!==(a=e.renderTerritoryNoBorders)&&void 0!==a?a:A.renderTerritoryNoBorders,A.renderTerritoryCapitals=null!==(d=e.renderTerritoryCapitals)&&void 0!==d?d:A.renderTerritoryCapitals,A.renderTerritoryColors=null!==(c=e.renderTerritoryColors)&&void 0!==c?c:A.renderTerritoryColors;var l=e.dynmap;A.renderEditor(),A.dynmap=l,A.dynmap.map.on("mousemove",A.handleMouseMove);var u=l.map.createPane("nodesPane");u.id="nodes-svg-renderer",new C(A.setMapTransform,{}).addTo(l.map),A.dynmapSvgContainer=u,A.dynmapSvgContainerRoot=(0,o.H)(u),!0===I?window.addEventListener("keydown",(function(e){"Shift"===e.key?!1===A.shiftKey&&(A.shiftKey=!0,A.renderWorld()):"Control"===e.key?!1===A.ctrlKey&&(A.ctrlKey=!0,A.renderWorld()):" "===e.key?A._togglePainting():"a"===e.key&&A.enabledPainting&&A._createTerritory()})):window.addEventListener("keydown",(function(e){"Shift"===e.key?!1===A.shiftKey&&(A.shiftKey=!0,A.renderWorld()):"Control"===e.key&&!1===A.ctrlKey&&(A.ctrlKey=!0,A.renderWorld())})),window.addEventListener("keyup",(function(e){"Shift"===e.key?!0===A.shiftKey&&(A.shiftKey=!1,A.renderWorld()):"Control"===e.key&&!0===A.ctrlKey&&(A.ctrlKey=!1,A.renderWorld())})),A.loadResourceIcons(e.resourceIcons).then((function(){void 0!==e.world?A.loadFile(e.config,!1,!1).then((function(){return A.loadFile(e.world,!1,!1)})).then((function(){return A.loadFile(e.towns,!1,!1)})).then((function(){return A.loadFile(e.ports,!1,!1)})).then((function(){A._updateStripePatterns(),A._calculateAllTerritoryCosts(),A._updateAllTerritoryElements(),A.renderEditor(),A.renderWorld()})):A.renderEditor()})).catch((function(e){console.error(e)})),void 0!==t&&t()},loadResourceIcons:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.defaultResourceIconFiles).map((function(e){return new Promise((function(t,r){fetch(e).then((function(n){n.ok?t(n.json()):r("Failed to load resource icon file: '".concat(e,"'"))})).catch((function(e){return r(e)}))}))}));return Promise.all(e).then((function(e){e.forEach((function(e){Object.keys(e).forEach((function(t){return A.resourceIcons.set(t,e[t])}))}))}))},loadFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return void 0===e?Promise.resolve():new Promise((function(n,o){fetch(e).then((function(e){if(e.ok)return e.json();o()})).then((function(e){if(void 0!==e)try{A.load(e,t,r),n()}catch(e){console.error(e),o()}else o()}))}))},load:function(e){var t,r,n,o,i,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("config"===(null===(t=e.meta)||void 0===t?void 0:t.type))void 0!==e.territoryCost&&(A.territoryCost.scale=e.territoryCost.scale,A.territoryCost.constant=e.territoryCost.constant);else if("world"===(null===(r=e.meta)||void 0===r?void 0:r.type)){if(!1===s&&(A._clearWorld(),A.selectedNodeName=void 0,A.selectedNodeIndex=void 0,A.selectedTerritory=void 0,A.selectedTown=void 0,A.selectedTownIndex=void 0),void 0!==e.nodes&&(Object.keys(e.nodes).forEach((function(t){var r=Object.assign(new v({name:t}),e.nodes[t]);A.nodes.set(t,r),A.nodesNameList.push(t)})),A.nodesNameList=A.nodesNameList.slice()),void 0!==e.territories){for(var c=A.wasmWorld.getTerritoryIdCounter(),l=0,u=Object.keys(e.territories);l<u.length;l++){var p=u[l],m=parseInt(p);m>c&&(c=m)}A.wasmWorld.setTerritoryIdCounter(c+1);var f=A.territories.size;Object.keys(e.territories).forEach((function(t,r){var n=parseInt(t);A.territories.has(n)&&(n=A.wasmWorld.getNewTerritoryId());var o=e.territories[t],i=new y(n);A.territories.set(n,i),A.territoryIdToIndex.set(n,f+r),A.wasmWorld.createTerritory(n),A.wasmWorld.removeCoords(o.chunks),A.wasmWorld.addCoordsToTerritory(n,o.chunks),i.name=o.name,i.core={x:o.core[0],y:o.core[1]},i.coreChunk={x:o.coreChunk[0],y:o.coreChunk[1]},i.nodes=o.nodes}));var h,g=H(A.territories.entries());try{for(g.s();!(h=g.n()).done;){var w=(i=h.value,B(i)||M(i,2)||K(i,2)||F()),E=w[0];w[1].size=A.wasmWorld.getTerritorySize(E),A._getTerritoryBorder(E)}}catch(e){g.e(e)}finally{g.f()}A._updateStripePatterns(),A._calculateAllTerritoryCosts(),A._updateAllTerritoryElements(),A._updateAllTownCapitalsJsx(),A._updateAllTownNameTagJsx()}d&&(A.renderEditor(),A.renderWorld())}else if("towns"===(null===(n=e.meta)||void 0===n?void 0:n.type)){A._clearTowns(),void 0!==e.residents&&null!==e.residents&&Object.keys(e.residents).forEach((function(t){A.residents.set(t,e.residents[t])})),void 0!==e.towns&&null!==e.towns&&Object.keys(e.towns).forEach((function(t){var r=new b(D({name:t},e.towns[t]));r.residents=r.residents.map((function(e){var t,r;return new k({uuid:e,name:null!==(t=null===(r=A.residents.get(e))||void 0===r?void 0:r.name)&&void 0!==t?t:"Anonymous",rank:a.rA})})),r.residentUuids=r.residents.map((function(e){return e.uuid})),r.playerNames=r.residents.map((function(e){return e.name})),A.towns.set(t,r),r.territories.forEach((function(e){A.territories.has(e)&&(A.territories.get(e).town=r)})),r.captured.forEach((function(e){A.territories.has(e)&&(A.territories.get(e).occupier=r)})),r.colorTown=r.color,r.colorNation=r.color})),void 0!==e.nations&&null!==e.nations&&Object.keys(e.nations).forEach((function(t){var r=new x(e.nations[t]);A.nations.set(t,r),r.towns.forEach((function(e){if(A.towns.has(e)){var n=A.towns.get(e);n.nation=t,n.color=r.color,n.colorNation=r.color}}))})),A.townsList=A._sortTownsNations(A.townsSortKey);var _,N=H(A.townsList);try{for(N.s();!(_=N.n()).done;){var I=_.value;I.residents=A._sortTownResidents(I)}}catch(e){N.e(e)}finally{N.f()}A._updateStripePatterns(),A._updateAllTerritoryElements(),A._updateAllTownCapitalsJsx(),A._updateAllTownNameTagJsx(),d&&(A.renderEditor(),A.renderWorld())}else if("ports"===(null===(o=e.meta)||void 0===o?void 0:o.type)){A._clearPorts();for(var S=0,C=Object.keys(e.ports);S<C.length;S++){var R=C[S],z=e.ports[R];if(z.hasOwnProperty("groups")&&z.hasOwnProperty("x")&&z.hasOwnProperty("z")){var O=new T(R,z.groups,z.x,z.z);A.ports.set(R,O)}}A._updateAllPortJsx(),d&&A.renderWorld()}else console.error("Invalid load metadata")},save:function(){A.wasmWorld.calculateNeighbors(),A.wasmWorld.generateColors();var e={};A.nodes.forEach((function(t,r){e[r]=t}));var t={};A.territories.forEach((function(e,r){e.size>0&&(t[r]={name:e.name,core:void 0!==e.core?[e.core.x,e.core.y]:null,coreChunk:void 0!==e.coreChunk?[e.coreChunk.x,e.coreChunk.y]:null,chunks:Array.from(A.wasmWorld.getTerritoryChunksBuffer(r)),size:e.size,neighbors:Array.from(A.wasmWorld.getTerritoryNeighbors(r)),isEdge:A.wasmWorld.getTerritoryIsEdge(r),nodes:e.nodes,color:A.wasmWorld.getTerritoryColor(e.id)})}));var r={meta:{type:"world"},nodes:e,territories:t},n=new Blob([JSON.stringify(r)],{type:"application/json"});(0,i.saveAs)(n,"world.json")},saveTowns:function(){var e={};A.residents.forEach((function(t,r){e[r]=t}));var t={};A.towns.forEach((function(e,r){t[r]=e.export()}));var r={};A.nations.forEach((function(e,t){r[t]=e.export()}));var n={meta:{type:"towns"},residents:e,towns:t,nations:r};console.log(n);var o=new Blob([JSON.stringify(n,null,2)],{type:"application/json"});(0,i.saveAs)(o,"towns.json")},setSetting:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];A.hasOwnProperty(e)?(A[e]=t,r&&A._updateAllTerritoryElements(),n&&A.renderWorld(),o&&A.renderEditor()):console.error('No "'.concat(e,'" property in Nodes'))},setRenderTerritoryIcons:function(e){A.renderTerritoryIcons=e,A._updateAllTerritoryElements(),A.renderWorld(),A.renderEditor()},setRenderTerritoryId:function(e){A.renderTerritoryId=e,A._updateAllTerritoryElements(),A.renderWorld(),A.renderEditor()},setRenderTerritoryCost:function(e){A.renderTerritoryCost=e,A._updateAllTerritoryElements(),A.renderWorld(),A.renderEditor()},setRenderTerritoryOpaque:function(e){A.renderTerritoryOpaque=e,A._updateAllTerritoryElements(),A.renderWorld(),A.renderEditor()},setRenderTerritoryNoBorders:function(e){A.renderTerritoryNoBorders=e,A._updateAllTerritoryElements(),A.renderWorld(),A.renderEditor()},setRenderTerritoryCapitals:function(e){A.renderTerritoryCapitals=e,A._updateAllTownCapitalsJsx(),A._updateAllTownNameTagJsx(),A.renderWorld(),A.renderEditor()},setRenderTownNames:function(e){A.renderTownNames=e,A._updateAllTownNameTagJsx(),A.renderWorld(),A.renderEditor()},renderWorld:function(){var e,t={territories:A.territories,renderTerritoryColors:A.renderTerritoryColors,width:A.mapWidth,height:A.mapHeight,viewbox:A.mapViewbox,transform:A.mapTransform,dynmap:A.dynmap,cursorX:A.cursorX,cursorY:A.cursorY,cursorLatLng:A.cursorLatLng,selectedTerritory:A.selectedTerritory,selectTerritory:A._selectTerritory,getNodeIcon:A._getNodeIcon,svgPatterns:A.stripePatterns,territoryElements:A.territoryElements,portElements:A.portsJsx,townCapitalElements:A.townCapitalElementsJsx,townNameElements:A.townNameElementsJsx,enabledPainting:A.enabledPainting,isErasing:A.ctrlKey,paintRadius:A.paintRadius,startPaint:A._startPaint,endPaint:A._endPaint,handleMouseDown:_,handleMouseUp:N,handleWindowMouseUp:E,backgroundImageSrc:A.backgroundImageSrc,backgroundImageOriginX:A.backgroundImageOriginX,backgroundImageOriginY:A.backgroundImageOriginY,backgroundImageEndX:A.backgroundImageEndX,backgroundImageEndY:A.backgroundImageEndY};null===(e=A.dynmapSvgContainerRoot)||void 0===e||e.render(g.createElement(p.c,t))},renderEditor:function(){var e,t={uploadEnabled:S,editorEnabled:I,save:A.save,saveTowns:A.saveTowns,load:A.load,x:A.chunkX,z:A.chunkY,renderTerritoryIcons:A.renderTerritoryIcons,setRenderTerritoryIcons:A.setRenderTerritoryIcons,renderTerritoryId:A.renderTerritoryId,setRenderTerritoryId:A.setRenderTerritoryId,renderTerritoryCost:A.renderTerritoryCost,setRenderTerritoryCost:A.setRenderTerritoryCost,renderTerritoryOpaque:A.renderTerritoryOpaque,setRenderTerritoryOpaque:A.setRenderTerritoryOpaque,renderTerritoryNoBorders:A.renderTerritoryNoBorders,setRenderTerritoryNoBorders:A.setRenderTerritoryNoBorders,renderTerritoryCapitals:A.renderTerritoryCapitals,setRenderTerritoryCapitals:A.setRenderTerritoryCapitals,renderTownNames:A.renderTownNames,setRenderTownNames:A.setRenderTownNames,nodes:A.nodes,nodesNameList:A.nodesNameList,createNode:A._createNode,deleteNode:A._deleteNode,selectedNodeIndex:A.selectedNodeIndex,setSelectedNode:A._setSelectedNode,renameNode:A._renameNode,setNodeIcon:A._setNodeIcon,setNodeData:A._setNodeData,territoryCost:A.territoryCost,setTerritoryCost:A._setTerritoryCost,resourceIcons:A.resourceIcons,selectedTerritory:A.selectedTerritory,createTerritory:A._createTerritory,deleteTerritory:A._deleteTerritory,setTerritoryName:A._setTerritoryName,addNodeToTerritory:A._addNodeToTerritory,removeNodeFromTerritory:A._removeNodeFromTerritory,setPainting:A._setPainting,togglePainting:A._togglePainting,paintRadius:A.paintRadius,setEditingTerritoryNodes:A._setEditingTerritoryNodes,towns:A.townsList,selectedTown:A.selectedTown,selectedTownIndex:A.selectedTownIndex,selectTown:A._selectTown,setTownSortKey:A.setTownSortKey,createTown:A.createTown,deleteTown:A.deleteTown,setTownName:A.setTownName,setTownNationFromName:A.setTownNationFromName,setTownHome:A.setTownHome,addTownResident:A.addTownResident,removeTownResident:A.removeTownResident,setSelectedTownHomeToSelectedTerritory:A.setSelectedTownHomeToSelectedTerritory,addSelectedTownSelectedTerritories:A.addSelectedTownSelectedTerritories,addSelectedTownSelectedTerritoriesAsCaptured:A.addSelectedTownSelectedTerritoriesAsCaptured,removeSelectedTownSelectedTerritories:A.removeSelectedTownSelectedTerritories,removeSelectedTerritoriesOwned:A.removeSelectedTerritoriesOwned,removeSelectedTerritoriesCaptured:A.removeSelectedTerritoriesCaptured,setSelectedTownColor:A.setSelectedTownColor,setSelectedTownNationColor:A.setSelectedTownNationColor};null===(e=A.editorContainerRoot)||void 0===e||e.render(g.createElement(u.K,t))},handleMouseMove:function(e){if(A.dynmap.map){var t=A.dynmap.getProjection().fromLatLngToLocation(e.latlng,A.dynmap.world.sealevel+1);if(A.cursorX=t.x,A.cursorY=t.y,A.chunkX=Math.floor(t.x/16),A.chunkY=Math.floor(t.z/16),A.enabledPainting){if(A.shiftKey){var r=e.originalEvent.screenX,n=e.originalEvent.screenY,o=r-A.screenX,i=-(n-A.screenY);A.screenX=r,A.screenY=n;var s=Math.abs(o)>Math.abs(i)?o:i,a=Math.max(A.minPaintRadius,Math.min(A.maxPaintRadius,A.paintRadius+.1*s));return A.paintRadius=a,A.renderEditor(),void A.renderWorld()}A.isPainting&&A._paint()}A.screenX=e.originalEvent.screenX,A.screenY=e.originalEvent.screenY,A.cursorLatLng=e.latlng,A.renderEditor(),A.renderWorld()}},setInitialMapTransform:function(e,t,r,n,o){A.mapWidth=e,A.mapHeight=t,A.mapViewbox=r,A.mapTransform=n,A.mapZoom=o},setMapTransform:function(e,t,r,n,o){A.mapWidth=e,A.mapHeight=t,A.mapViewbox=r,A.mapTransform=n,A.mapZoom!==o&&(A.mapZoom=o,A._updateAllTerritoryElements(),A._updateAllTownCapitalsJsx(),A._updateAllTownNameTagJsx(),A._updateAllPortJsx()),A.renderWorld()},_clearWorld:function(){A.nodes.clear(),A.nodesNameList=[],A.territories.clear(),A.territoryIdToIndex.clear(),A.wasmWorld.clear(),A.wasmWorld.setTerritoryIdCounter(0)},_clearTowns:function(){A.residents.clear(),A.towns.clear(),A.townsNameList=[],A.nations.clear(),A.territories.forEach((function(e,t){e.town=void 0,e.occupier=void 0}))},_clearPorts:function(){A.ports.clear(),A.portsJsx=[]},_clearResources:function(){A.nodes=new Map,A.nodesNameList=[],A.territories.forEach((function(e,t){e.nodes=[]}))},createTown:function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(null==t){var r=0;do{t="town".concat(r),r+=1}while(A.towns.has(t))}else if(Node.towns.has(t))return void console.error("Cannot create new town ".concat(t," because name already exists."));var n=new b({name:t});A.towns.set(t,n),A.townsList=A._sortTownsNations(A.townsSortKey),e&&(A.selectedTown=n,A.selectedTownIndex=A.townsList.findIndex((function(e){return e.uuid===n.uuid}))),A.renderEditor()},deleteTown:function(e){var t=A.towns.get(e);if(void 0!==t){A.towns.delete(e),A.townsList=A._sortTownsNations(A.townsSortKey),t==A.selectedTown?(A.selectedTown=void 0,A.selectedTownIndex=void 0):void 0!==A.selectedTown&&(A.selectedTownIndex=A.townsList.findIndex((function(e){return e.uuid===A.selectedTown.uuid})));var r=[];t.territories.forEach((function(e){var t=A.territories.get(e);void 0!==t&&(t.town=void 0),r.push(e)})),t.captured.forEach((function(e){var t=A.territories.get(e);void 0!==t&&(t.occupier=void 0),r.push(e)})),A._updateTerritoryElementIds(r),A.renderEditor(),A.renderWorld()}else console.log("Town with name ".concat(e," does not exist, cannot be deleted."))},setTownName:function(e,t){console.log("Setting town name ".concat(e," ").concat(e.name," to ").concat(t)),null!=e&&e.name!==t&&(A.towns.has(t)?console.error("Cannot rename ".concat(e.name," => ").concat(t," because name already exists.")):!0===A.towns.delete(e.name)?(e.name=t,A.towns.set(t,e),A.townsList=A._sortTownsNations(A.townsSortKey),e==A.selectedTown&&(A.selectedTownIndex=A.townsList.findIndex((function(e){return e.name==t}))),A.renderEditor()):console.error("Failed to delete old town named ".concat(e.name," from towns map")))},setTownHome:function(e,t){if(null!=e){var r=[],n=parseInt(t);e.territories.includes(n)?(e.home>0&&r.push(e.home),e.home=n,n>0&&r.push(n),A._updateTerritoryElementIds(r),A.renderWorld()):console.error("Cannot set town ".concat(e.name," home to ").concat(n," because it is not a territory in the town."))}},setSelectedTownHomeToSelectedTerritory:function(){void 0!==A.selectedTown&&null!==A.selectedTown?void 0!==A.selectedTerritory&&null!==A.selectedTerritory?A.setTownHome(A.selectedTown,A.selectedTerritory.id):console.error("setSelectedTownHomeToSelectedTerritory: No selected territory."):console.error("setSelectedTownHomeToSelectedTerritory: No selected town.")},setTownNationFromName:function(e,t){if(null!=e){if(e.nation!==t)if(void 0!==e.nation){if(""===t){var r=A.nations.get(e.nation);void 0!==r&&(r.capital=r.capital===e.name?void 0:r.capital,r.towns=r.towns.filter((function(t){return t!==e.name}))),e.nation=void 0,e.color=e.colorTown,A.townsList=A._sortTownsNations(A.townsSortKey),A.selectedTownIndex=A.townsList.findIndex((function(t){return t.uuid===e.uuid})),A._updateStripePatterns(),A._updateTerritoryElementIds([].concat(z(e.territories),z(e.captured)))}else{var n=e.nation,o=A.nations.get(n),i=A.nations.get(t);void 0!==i?(void 0!==o&&(o.capital=o.capital===e.name?void 0:o.capital,o.towns=o.towns.filter((function(t){return t!==e.name}))),i.towns=[].concat(z(i.towns),[e.name]),e.nation=t,e.colorNation=z(i.color),e.color=e.colorNation):void 0!==o&&(o.towns.forEach((function(e){var r=A.towns.get(e);void 0!==r&&(r.nation=t)})),A.nations.delete(n),A.nations.set(t,o)),A.townsList=A._sortTownsNations(A.townsSortKey),A.selectedTownIndex=A.townsList.findIndex((function(t){return t.uuid===e.uuid})),A._updateStripePatterns(),A._updateTerritoryElementIds([].concat(z(e.territories),z(e.captured)))}A.renderEditor(),A.renderWorld()}else{if(""===t)return;var s=A.nations.get(t);void 0===s&&(s=new x({})),s.towns=[].concat(z(s.towns),[e.name]),A.nations.set(t,s),e.nation=t,e.colorNation=z(s.color),e.color=e.colorNation,A.townsList=A._sortTownsNations(A.townsSortKey),A.selectedTownIndex=A.townsList.findIndex((function(t){return t.uuid===e.uuid})),A._updateStripePatterns(),A._updateTerritoryElementIds([].concat(z(e.territories),z(e.captured))),A.renderEditor(),A.renderWorld()}}else console.error("setTownNationFromName: Town undefined, cannot set nation")},addTownResident:function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.rA;if(null!=e)if(e.residents.some((function(e){return e.name===t})))console.error("Town ".concat(e.name," already has resident ").concat(t,", skipping"));else{var i=null!==(r=null===(n=A.residents.get(t))||void 0===n?void 0:n.uuid)&&void 0!==r?r:(0,s.A)();e.residents=[].concat(z(e.residents),[new k({uuid:i,name:t,rank:o})]),e.residents=A._sortTownResidents(e),e.residentUuids=e.residents.map((function(e){return e.uuid})),A.townsSortKey===a.ug.PLAYERS&&(A.townsList=A._sortTownsNations(A.townsSortKey),e==A.selectedTown&&(A.selectedTownIndex=A.townsList.findIndex((function(t){return t.uuid==e.uuid}))))}else console.log("Town undefined, cannot add resident")},removeTownResident:function(e,t){var r,n;if(null!=e){var o=e.residents.findIndex((function(e){return e.name===t}));if(-1!==o){var i=e.residents[o];e.leader===i.uuid&&(e.leader=void 0),e.officers=null!==(r=null===(n=e.officers)||void 0===n?void 0:n.filter((function(e){return e!==i.uuid})))&&void 0!==r?r:[],e.residents=[].concat(z(e.residents.slice(0,o)),z(e.residents.slice(o+1))),e.residents=A._sortTownResidents(e),A.townsSortKey===a.ug.PLAYERS&&(A.townsList=A._sortTownsNations(A.townsSortKey),e==A.selectedTown&&(A.selectedTownIndex=A.townsList.findIndex((function(t){return t.uuid==e.uuid})))),A.renderEditor()}else console.error("Town ".concat(e.name," does not have resident ").concat(t,", skipping"))}else console.error("Town undefined, cannot add resident")},addTownTerritories:function(e,t){if(null!=e)if(null!=t&&0!==t.size){t.forEach((function(t,r){void 0!==t.town&&(t.town.territories=t.town.territories.filter((function(e){return e!==t.uuid}))),t.town=e}));var r=Array.from(t.keys());e.territories=z(new Set([].concat(z(e.territories),r))),A._updateTerritoryElementIds(r),A.townsSortKey===a.ug.TERRITORIES&&(A.townsList=A._sortTownsNations(A.townsSortKey),e==A.selectedTown&&(A.selectedTownIndex=A.townsList.findIndex((function(t){return t.uuid==e.uuid})))),A.renderWorld()}else console.error("No territories to add");else console.error("Town undefined, cannot add territories")},addTownCapturedTerritories:function(e,t){if(null!=e)if(null!=t&&0!==t.size){var r=[];t.forEach((function(t,n){void 0!==t.town&&null!==t.town&&t.town.uuid!==e.uuid&&(t.occupier=e,r.push(t.id))})),e.captured=z(new Set([].concat(z(e.captured),r))),A._updateStripePatterns(),A._updateTerritoryElementIds(r),A.renderWorld()}else console.error("No territories to add");else console.error("Town undefined, cannot add territories")},removeTownTerritories:function(e,t){if(null!=e)if(null!=t&&0!==t.size){t.forEach((function(t,r){var n,o;(null===(n=t.town)||void 0===n?void 0:n.uuid)===e.uuid&&(t.town=void 0),(null===(o=t.occupier)||void 0===o?void 0:o.uuid)===e.uuid&&(t.occupier=void 0)})),e.territories=e.territories.filter((function(e){return!t.has(e)})),e.annexed=e.annexed.filter((function(e){return!t.has(e)})),e.captured=e.captured.filter((function(e){return!t.has(e)})),t.has(e.home)&&(e.home=-1);var r=Array.from(t.keys());A._updateTerritoryElementIds(r),A.townsSortKey===a.ug.TERRITORIES&&(A.townsList=A._sortTownsNations(A.townsSortKey),e==A.selectedTown&&(A.selectedTownIndex=A.townsList.findIndex((function(t){return t.uuid==e.uuid})))),A.renderWorld()}else console.error("No territories to remove");else console.error("Town undefined, cannot add territories")},addSelectedTownSelectedTerritories:function(){A.addTownTerritories(A.selectedTown,A.selectedTerritories)},addSelectedTownSelectedTerritoriesAsCaptured:function(){A.addTownCapturedTerritories(A.selectedTown,A.selectedTerritories)},removeSelectedTownSelectedTerritories:function(){A.removeTownTerritories(A.selectedTown,A.selectedTerritories)},setTownSortKey:function(e){A.townsSortKey=e,A.townsList=A._sortTownsNations(e),void 0!==A.selectedTown&&(A.selectedTownIndex=A.townsList.findIndex((function(e){return e.uuid===A.selectedTown.uuid}))),A.renderEditor()},removeTerritoriesOwned:function(e){if(null!=e&&0!==e.size){var t=new Set;e.forEach((function(e,r){void 0!==e.town&&(t.add(e.town.uuid),e.town=void 0),void 0!==e.occupier&&(t.add(e.occupier.uuid),e.occupier=void 0)})),t.forEach((function(t){var r=A.towns.get(t);void 0!==r&&(r.territories=r.territories.filter((function(t){return!e.has(t)})),r.annexed=r.annexed.filter((function(t){return!e.has(t)})),r.captured=r.captured.filter((function(t){return!e.has(t)})),e.has(r.home)&&(r.home=-1))}));var r=Array.from(e.keys());A._updateStripePatterns(),A._updateTerritoryElementIds(r),A.townsSortKey===a.ug.TERRITORIES&&(A.townsList=A._sortTownsNations(A.townsSortKey),void 0!==A.selectedTown&&(A.selectedTownIndex=A.townsList.findIndex((function(e){return e.uuid==A.selectedTown.uuid})))),A.renderEditor(),A.renderWorld()}else console.error("No territories to remove")},removeTerritoriesCaptured:function(e){if(null!=e&&0!==e.size){var t=new Set;e.forEach((function(e,r){void 0!==e.occupier&&(t.add(e.occupier.uuid),e.occupier=void 0)})),t.forEach((function(t){var r=A.towns.get(t);void 0!==r&&(r.captured=r.captured.filter((function(t){return!e.has(t)})))}));var r=Array.from(e.keys());A._updateStripePatterns(),A._updateTerritoryElementIds(r),A.renderWorld()}else console.error("No territories to remove")},removeSelectedTerritoriesOwned:function(){A.removeTerritoriesOwned(A.selectedTerritories)},removeSelectedTerritoriesCaptured:function(){A.removeTerritoriesCaptured(A.selectedTerritories)},setTownColor:function(e,t){null!=e?null!=t?(e.colorTown=t,void 0===e.nation&&(e.color=t,A._updateStripePatterns(),A._updateTerritoryElementIds([].concat(e.territories,e.captured)),A.renderEditor(),A.renderWorld())):console.error("setTownColor: color is undefined"):console.error("setTownColor: town is undefined")},setSelectedTownColor:function(e){void 0!==A.selectedTown&&null!==A.selectedTown?A.setTownColor(A.selectedTown,e):console.error("setSelectedTownColor: no town selected")},setNationColor:function(e,t){if(null!=e)if(null!=t){e.color=t;var r=[];e.towns.map((function(e){return A.towns.get(e)})).forEach((function(e){void 0!==e&&(e.colorNation=t,e.color=t,r.push.apply(r,z(e.territories).concat(z(e.captured))))})),A._updateStripePatterns(),A._updateTerritoryElementIds(r),A.renderEditor(),A.renderWorld()}else console.error("setNationColor: color is undefined");else console.error("setNationColor: nation is undefined")},setSelectedTownNationColor:function(e){if(void 0!==A.selectedTown){var t=A.nations.get(A.selectedTown.nation);void 0!==t?A.setNationColor(t,e):console.error("setSelectedTownColor: town has no nation")}else console.error("setSelectedTownColor: no town selected")},_sortTownsNations:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.ug.TERRITORIES,n=[],o=[];A.nations.forEach((function(e,t){var r,n=0,i=0,s=[],a=H(e.towns);try{for(a.s();!(r=a.n()).done;){var d=r.value,c=A.towns.get(d);void 0!==c&&(n+=c.residents.length,i+=c.territories.length,s.push(c))}}catch(e){a.e(e)}finally{a.f()}e.numPlayers=n,e.numTerritories=i,o.push({nationName:t,nation:e,towns:s})}));var i=(U(e={},a.ug.ALPHABETICAL,(function(e,t){return e.nationName.localeCompare(t.nationName)})),U(e,a.ug.PLAYERS,(function(e,t){return t.nation.numPlayers-e.nation.numPlayers})),U(e,a.ug.TERRITORIES,(function(e,t){return t.nation.numTerritories-e.nation.numTerritories})),e),s=(U(t={},a.ug.ALPHABETICAL,(function(e,t){return e.name.localeCompare(t.name)})),U(t,a.ug.PLAYERS,(function(e,t){return t.residents.length-e.residents.length})),U(t,a.ug.TERRITORIES,(function(e,t){return t.territories.length-e.territories.length})),t);o.sort(i[r]);for(var d=0,c=o;d<c.length;d++){var l=c[d];l.towns.sort(s[r]),n.push.apply(n,z(l.towns))}var u,p=[],m=H(A.towns.values());try{for(m.s();!(u=m.n()).done;){var f=u.value;void 0!==f.nation&&null!==f.nation||p.push(f)}}catch(e){m.e(e)}finally{m.f()}return p.sort(s[r]),n.push.apply(n,p),n},_sortTownResidents:function(e){var t,r=[],n=[],o=H(e.residents);try{for(o.s();!(t=o.n()).done;){var i,s,d,c=t.value;c.uuid!==e.leader&&(null!==(i=e.officers)&&void 0!==i&&i.includes(c.uuid)?n.push(new k({uuid:c.uuid,name:null===(s=A.residents.get(c.uuid))||void 0===s?void 0:s.name,rank:a.BE})):r.push(new k({uuid:c.uuid,name:null===(d=A.residents.get(c.uuid))||void 0===d?void 0:d.name,rank:a.rA})))}}catch(e){o.e(e)}finally{o.f()}var l,u=[];return void 0!==e.leader&&null!==e.leader&&u.push(new k({uuid:e.leader,name:null===(l=A.residents.get(e.leader))||void 0===l?void 0:l.name,rank:a.UV})),u.push.apply(u,n),u.push.apply(u,r),u},_setTerritoryCost:function(e,t){A.territoryCost.constant=e,A.territoryCost.scale=t,A._calculateAllTerritoryCosts(),A.renderEditor(),A.renderTerritoryCost&&(A._updateAllTerritoryElements(),A.renderWorld())},setBackgroundImage:function(e,t){if(A.backgroundImageSrc=e,A.backgroundImageName=t,0===A.backgroundImageWidth||0===A.backgroundImageHeight){var r=new Image;r.src=e,r.onload=function(){var e=r.width,t=r.height;A.backgroundImageWidth=e,A.backgroundImageHeight=t,A.backgroundImageEndX=A.backgroundImageOriginX+A.backgroundImageWidth,A.backgroundImageEndY=A.backgroundImageOriginY+A.backgroundImageHeight,A.renderEditor(),A.renderWorld()}}else A.renderWorld()},setBackgroundImageOriginX:function(e){e!==A.backgroundImageOriginX&&(A.backgroundImageOriginX=e,A.backgroundImageEndX=e+A.backgroundImageWidth,A.renderWorld())},setBackgroundImageOriginY:function(e){e!==A.backgroundImageOriginY&&(A.backgroundImageOriginY=e,A.backgroundImageEndY=e+A.backgroundImageHeight,A.renderWorld())},setBackgroundImageWidth:function(e){e!==A.backgroundImageWidth&&(A.backgroundImageWidth=e,A.backgroundImageEndX=A.backgroundImageOriginX+e,A.renderWorld())},setBackgroundImageHeight:function(e){e!==A.backgroundImageHeight&&(A.backgroundImageHeight=e,A.backgroundImageEndY=A.backgroundImageOriginY+e,A.renderWorld())},_setDefaultNodeProperties:function(e){A.defaultNodeProperties=e,A.defaultNodeString=JSON.stringify(Object.assign(new v({name:"null"}),A.defaultNodeProperties),null,3),A.renderEditor()},_createNode:function(e){var t=e;if(void 0===e){t="node0";for(var r=1;A.nodes.has(t);)t="node".concat(r),r+=1}else if(A.nodes.has(e))return;var n=Object.assign(new v({name:t}),A.defaultNodeProperties);A.nodes.set(t,n),A.nodesNameList=Array.from(A.nodes.keys()),A.renderEditor()},_deleteNode:function(e){A.nodes.has(e)&&(A.nodes.delete(e),A.nodesNameList=Array.from(A.nodes.keys()),A.selectedNodeName===e&&(A.selectedNodeIndex=void 0,A.selectedNodeName=void 0),A.territories.forEach((function(t,r){var n=t.nodes.indexOf(e);-1!==n&&t.nodes.splice(n,1)})),A._updateAllTerritoryElements(),A.renderEditor(),A.renderWorld())},_renameNode:function(e,t){if(e!==t&&A.nodes.has(e)&&""!==t&&!A.nodes.has(t)){var r=A.nodes.get(e);r.name=t,A.nodes.delete(e),A.nodes.set(t,r),A.nodesNameList=Array.from(A.nodes.keys()),A.territories.forEach((function(r,n){var o=r.nodes.indexOf(e);-1!==o&&r.nodes.splice(o,1,t)})),A.selectedNodeIndex=A.nodes.size-1,A.selectedNodeName=t,A.renderEditor()}},_setSelectedNode:function(e,t){A.selectedNodeName=e,A.selectedNodeIndex=t,A.renderEditor()},_getNodeIcon:function(e){if(A.nodes.has(e))return A.nodes.get(e).icon},_setNodeIcon:function(e,t){A.nodes.has(e)&&(A.nodes.get(e).icon=String(t),A._updateAllTerritoryElements(),A.renderEditor(),A.renderWorld())},_setNodeData:function(e,t){if(A.nodes.has(e)){var r=A.nodes.get(e).cost,n=t.cost;if(Object.assign(A.nodes.get(e),t),A.renderEditor(),(null==r?void 0:r.scale)!==(null==n?void 0:n.scale)||(null==r?void 0:r.constant)!==(null==n?void 0:n.constant)){var o=[];A.territories.forEach((function(t,r){-1!==t.nodes.indexOf(e)&&o.push(r)})),o.forEach((function(e){return A._calculateTerritoryCost(e)})),A._updateTerritoryElementIds(o),A.renderWorld()}}},_createTerritory:function(){var e=A.wasmWorld.createTerritory(),t=new y(e);return A.territories.has(e)||(A.territoryIdToIndex.set(e,A.territoryElements.length),A.territoryElements.push(void 0)),A.territories.set(e,t),A._selectTerritory(e,!0),A.renderEditor(),A.renderWorld(),e},_deleteTerritory:function(e){var t,r=H(e);try{var n=function(){var e=t.value;if(A.territories.has(e)){A.wasmWorld.deleteTerritory(e),A.territories.delete(e),A.selectedTerritories.delete(e);var r=0;A.territoryIdToIndex.clear(),A.territories.forEach((function(e,t){A.territoryIdToIndex.set(t,r),r+=1})),void 0!==A.selectedTerritory&&A.selectedTerritory.id===e&&(A.selectedTerritory=void 0),A._updateAllTerritoryElements(),A.renderEditor(),A.renderWorld()}};for(r.s();!(t=r.n()).done;)n()}catch(e){r.e(e)}finally{r.f()}},_mergeTerritories:function(e){if(!(e.length<=1)){var t,r=H(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!A.territories.has(n))return void console.error("Cannot merge:",n,"does not exist")}}catch(e){r.e(e)}finally{r.f()}A.wasmWorld.mergeTerritories(e),A._getTerritoryBorder(e[0]);for(var o=1;o<e.length;o++)A.territories.delete(e[o]);A.selectedTerritories.clear(),A.selectedTerritories.set(e[0],A.territories.get(e[0])),A.selectedTerritory=A.territories.get(e[0]),A.selectedTerritory.selected=!0;var i=0;return A.territoryIdToIndex.clear(),A.territories.forEach((function(e,t){A.territoryIdToIndex.set(t,i),i+=1})),A._updateAllTerritoryElements(),A.renderEditor(),A.renderWorld(),e[0]}},mergeSelectedTerritories:function(){console.log("Merging selected territories...");var e=A._mergeTerritories(A.selectedTerritoryIds());void 0!==e?console.log("Merged into id=".concat(e)):console.log("No merge")},_subdivideIntoRandomTerritories:function(e,t,r,n,o,i,s,a,d,c){if(A.territories.has(e)){var l=A.wasmWorld.subdivideIntoRandomTerritories(e,Math.max(0,t),Math.max(0,r),Math.max(0,n),o,Math.max(0,i),Math.max(0,s),Math.max(0,a),Math.max(0,d)),u=A.territories.get(e).name;A.territories.delete(e),A.selectedTerritories.clear(),l.forEach((function(e){var t=new y(e);c&&(t.name=u),t.size=A.wasmWorld.getTerritorySize(e),A.territories.set(e,t),A._getTerritoryBorder(e),t.selected=!0,A.selectedTerritories.set(e,t)}));var p=0;return A.territoryIdToIndex.clear(),A.territories.forEach((function(e,t){A.territoryIdToIndex.set(t,p),p+=1})),void 0!==A.selectedTerritory&&A.selectedTerritory.id===e&&(A.selectedTerritory=void 0),A._updateAllTerritoryElements(),A.renderEditor(),A.renderWorld(),l}console.error("Invalid territory ".concat(e))},_selectTerritory:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((e!==(null===(t=A.selectedTerritory)||void 0===t?void 0:t.id)||!1!==A.isEditingTerritoryNodes)&&(!A.enabledPainting||r)){if(void 0!==A.selectedTerritory){var n=A.selectedTerritory.id;A.selectedTerritory=void 0,A._updateTerritoryElement(n)}if(A.territories.has(e)){var o=A.territories.get(e);A.selectedTerritory=o;var i=void 0;if(!1===A.shiftKey){i=[e];var s,a=H(A.selectedTerritories.values());try{for(a.s();!(s=a.n()).done;){var d=s.value;i.push(d.id),d.selected=!1}}catch(e){a.e(e)}finally{a.f()}A.selectedTerritories.clear()}if(o.selected=!0,A.selectedTerritories.set(e,o),void 0!==o.town){var c,l=0,u=H(A.townsList);try{for(u.s();!(c=u.n()).done;){var p=c.value;if(o.town===p){A.selectedTown=p,A.selectedTownIndex=l;break}l+=1}}catch(e){u.e(e)}finally{u.f()}}if(!0===A.isEditingTerritoryNodes&&void 0!==A.selectedNodeName&&!0===A.ctrlKey){var m=A.selectedNodeName;if(void 0!==m){var f=o.nodes.indexOf(m);-1!==f?o.nodes.splice(f,1):o.nodes.push(m)}}void 0!==i?A._updateTerritoryElementIds(i):A._updateTerritoryElement(e),A.renderEditor(),A.renderWorld()}}},_deselectTerritory:function(){if(void 0!==A.selectedTerritory){var e,t=[A.selectedTerritory.id],r=H(A.selectedTerritories.values());try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n.id),n.selected=!1}}catch(e){r.e(e)}finally{r.f()}A.selectedTerritories.clear(),A.selectedTerritory=void 0,A._updateTerritoryElementIds(t),A.renderEditor(),A.renderWorld()}},selectedTerritoryIds:function(){var e,t=new Array(A.selectedTerritories.size),r=0,n=H(A.selectedTerritories.values());try{for(n.s();!(e=n.n()).done;){var o=e.value;t[r]=o.id,r+=1}}catch(e){n.e(e)}finally{n.f()}return t},_setTerritoryName:function(e,t){void 0!==e&&(e.name=t)},_setEditingTerritoryNodes:function(e){A.isEditingTerritoryNodes=e},_addNodeToTerritory:function(e,t){if(A.territories.has(e)&&A.nodes.has(t)){var r=A.territories.get(e);if(!r.nodes.includes(t))return r.nodes.push(t),A._updateTerritoryElement(e),A.renderEditor(),A.renderWorld(),!0}return!1},_removeNodeFromTerritory:function(e,t){if(A.territories.has(e)&&A.nodes.has(t)){var r=A.territories.get(e),n=r.nodes.indexOf(t);if(-1!==n)return r.nodes.splice(n,1),A._updateTerritoryElement(e),A.renderEditor(),A.renderWorld(),!0}return!1},_removeAllNodesFromTerritories:function(e){var t,r=H(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;A.territories.has(n)&&(A.territories.get(n).nodes=[])}}catch(e){r.e(e)}finally{r.f()}A._updateTerritoryElementIds(e),A.renderEditor(),A.renderWorld()},_distributeResourcesInTerritories:function(e,t,r){if(0!==e.length){var n=0,o=[],i=[];for(var s in r)A.nodes.has(s)?(o.push(s),i.push(r[s]),n+=r[s]):console.error("No resource ".concat(s,", skipping"));if(0!==i.length){n<1&&(o.push(void 0),i.push(1-n));var a,d=h.$P.fromWeights(t,i),c=H(e);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(A.territories.has(l)){var u=A.territories.get(l),p=o[d.sample()];void 0===p||u.nodes.includes(p)||u.nodes.push(p)}}}catch(e){c.e(e)}finally{c.f()}A._updateTerritoryElementIds(e),A.renderEditor(),A.renderWorld()}}},distributeResourcesInSelectedTerritories:function(){A._distributeResourcesInTerritories(A.selectedTerritoryIds(),A.resourceDistributeRandomSeed,A.resourceDistributeSettings)},_addCoordsToTerritory:function(e,t){A.territories.has(e)&&void 0!==t&&t.length>0&&!0===A.wasmWorld.addCoordsToTerritory(e,t)&&(A.territories.get(e).size=A.wasmWorld.getTerritorySize(e),A._getTerritoryBorder(e),A._updateTerritoryElement(e),A.renderEditor(),A.renderWorld())},_addCircleToTerritory:function(e,t,r,n){A.territories.has(e)&&!0===A.wasmWorld.addCircleToTerritory(e,t,r,n)&&(A.territories.get(e).size=A.wasmWorld.getTerritorySize(e),A._getTerritoryBorder(e),A._updateTerritoryElement(e),A.renderEditor(),A.renderWorld())},_removeCircleToTerritory:function(e,t,r,n){A.territories.has(e)&&!0===A.wasmWorld.removeCircleToTerritory(e,t,r,n)&&(A.territories.get(e).size=A.wasmWorld.getTerritorySize(e),A._getTerritoryBorder(e),A._updateTerritoryElement(e),A.renderEditor(),A.renderWorld())},_listTerritories:function(){A.wasmWorld.listTerritories()},_getTerritoryBorder:function(e){for(var t=A.wasmWorld.getTerritoryBorder(e),r={x:t[0],y:t[1]},n=[],o=t[2],i=3,s=0;s<o;s++){var a=t[i],d=t[i+1],c=i+2,l=c+2*a,u=l,p=u+2*d;n.push({numChunks:a,numEdgeLoopPoints:d,chunks:t.subarray(c,l),edge:t.subarray(u,p)}),i=p}var m=A.territories.get(e);m.core=r,m.coreChunk={x:Math.floor(r.x/16),y:Math.floor(r.y/16)},m.borders=n},_getLatLngFromCoord:function(e,t){if(void 0!==A.dynmap){var r,n=A.dynmap.getProjection();return void 0!==n?(r=n.fromLocationToLatLng({x:e,y:0,z:t}),r=A.dynmap.map.latLngToLayerPoint(r)):r={lat:e,lng:t},r}return{lat:void 0,lng:void 0}},_createTerritoryJsx:function(e){var t=void 0!==A.selectedTerritory&&A.selectedTerritory.id===e.id;return g.createElement(m.p,{key:e.id,territory:e,renderTerritoryIcons:A.renderTerritoryIcons,renderTerritoryId:A.renderTerritoryId,renderTerritoryCost:A.renderTerritoryCost,renderTerritoryOpaque:A.renderTerritoryOpaque,renderTerritoryColors:A.renderTerritoryColors,renderTerritoryNoBorders:A.renderTerritoryNoBorders,selected:e.selected,isMainSelected:t,selectTerritory:A._selectTerritory,getPoint:A._getLatLngFromCoord,getNodeIcon:A._getNodeIcon,resourceIcons:A.resourceIcons})},_updateTerritoryElement:function(e){var t=A.territoryElements.slice(),r=A.territoryIdToIndex.get(e);if(void 0!==r)if(r<t.length){var n=t[r];if(void 0===n||e===n.props.territory.id){var o=A.territories.get(e);void 0!==o&&void 0!==o.borders&&(t[r]=A._createTerritoryJsx(o),A.territoryElements=t)}else console.error("UPDATE TERRITORY ELEMENT ID DOES NOT MATCH",e,o)}else console.error("new territory index out of bounds?")},_updateTerritoryElementIds:function(e){var t=A.territoryElements.slice();e.forEach((function(e){var r=A.territoryIdToIndex.get(e);if(void 0!==r)if(r<t.length){var n=t[r];if(void 0===n||e===n.props.territory.id){var o=A.territories.get(e);void 0!==o&&void 0!==o.borders&&(t[r]=A._createTerritoryJsx(o))}else console.error("UPDATE TERRITORY ELEMENT ID DOES NOT MATCH",e,o)}else console.error("new territory index out of bounds?")})),A.territoryElements=t},_updateAllTerritoryElements:function(){var e=[];A.territories.forEach((function(t){void 0!==t.borders?e.push(A._createTerritoryJsx(t)):e.push(void 0)})),A.territoryElements=e},_updateStripePatterns:function(){var e=new Set,t=[];A.towns.forEach((function(r){var n;if((null===(n=r.captured)||void 0===n?void 0:n.length)>0){var o=r.color;r.captured.forEach((function(r){var n=A.territories.get(r);if(void 0!==(null==n?void 0:n.town)){var i=n.town.color,s="stripes-".concat(i[0],"-").concat(i[1],"-").concat(i[2],"-").concat(o[0],"-").concat(o[1],"-").concat(o[2]);if(!e.has(s)){var a="rgb(".concat(i[0],", ").concat(i[1],", ").concat(i[2],")"),d="rgb(".concat(o[0],", ").concat(o[1],", ").concat(o[2],")"),c="rgb(".concat(i[0]/1.5,", ").concat(i[1]/1.5,", ").concat(i[2]/1.5,")"),u="rgb(".concat(o[0]/1.5,", ").concat(o[1]/1.5,", ").concat(o[2]/1.5,")");t.push(g.createElement(l.U,{id:s,key:s,fillColor:a,stripeColor:d})),t.push(g.createElement(l.U,{id:"dark-"+s,key:"dark-"+s,fillColor:c,stripeColor:u})),e.add(s)}}}))}})),A.stripePatterns=t},_createTownNameTagJsx:function(e){var t=A.territories.get(e.home);if(null==t)return null;var r,n=A._getLatLngFromCoord(t.core.x,t.core.y),o=n.x,i=n.y;if(A.renderTerritoryCapitals&&(i-=8),A.renderTownNames===a.LV)r=e.name;else{if(A.renderTownNames!==a.wS)return console.error("Invalid town name render mode: ".concat(A.renderTownNames)),null;r=void 0!==e.nation?e.nation:e.name}return r=r.replaceAll("_"," "),g.createElement("g",{key:e.home},g.createElement("text",{x:o,y:i,textRendering:"optimizeSpeed",fill:"#000",textAnchor:"middle",style:{font:"bold 24px serif",stroke:"#fff",strokeWidth:"1pt",paintOrder:"stroke"}},r))},_updateAllTownNameTagJsx:function(){var e=[];if(A.renderTownNames!==a.J1){var t,r=H(A.towns.values());try{for(r.s();!(t=r.n()).done;){var n=t.value,o=A._createTownNameTagJsx(n);e.push(o)}}catch(e){r.e(e)}finally{r.f()}}A.townNameElementsJsx=e},_createTownCapitalJsx:function(e){var t=A.territories.get(e.home);if(null==t)return null;var r=A._getLatLngFromCoord(t.core.x,t.core.y);return g.createElement("g",{key:e.home},g.createElement("image",{x:r.x-9,y:r.y-9,width:18,height:18,href:c()}))},_updateAllTownCapitalsJsx:function(){var e=[];if(!0===A.renderTerritoryCapitals){var t,r=H(A.towns.values());try{for(r.s();!(t=r.n()).done;){var n=t.value,o=A._createTownCapitalJsx(n);e.push(o)}}catch(e){r.e(e)}finally{r.f()}}A.townCapitalElementsJsx=e},_createPortJsx:function(e){return g.createElement(f.I,{key:e.name,port:e,x:e.x,z:e.z,showPortTooltip:A._showPortTooltip,removePortTooltip:A._removePortTooltip,getPoint:A._getLatLngFromCoord})},_showPortTooltip:function(e,t,r){var n,o={enable:!(arguments.length>3&&void 0!==arguments[3])||arguments[3],clientX:t,clientY:r,port:e};null===(n=A.portTooltipContainerRoot)||void 0===n||n.render(g.createElement(f.V,o))},_removePortTooltip:function(){A._showPortTooltip(void 0,0,0,!1)},_updateAllPortJsx:function(){var e,t=[],r=H(A.ports.values());try{for(r.s();!(e=r.n()).done;){var n=e.value,o=A._createPortJsx(n);t.push(o)}}catch(e){r.e(e)}finally{r.f()}A.portsJsx=t},_calculateAllTerritoryCosts:function(){var e=A.territoryCost.constant,t=A.territoryCost.scale;A.territories.forEach((function(r){var n=e,o=t;r.nodes.forEach((function(e){var t=A.nodes.get(e);void 0!==t&&(n+=t.cost.constant,o*=t.cost.scale)}));var i=r.size,s=Math.round(n+o*i);r.cost=s}))},_calculateTerritoryCost:function(e){var t=A.territories.get(e);if(void 0!==t){var r=A.territoryCost.constant,n=A.territoryCost.scale;t.nodes.forEach((function(e){var t=A.nodes.get(e);void 0!==t&&(r+=t.cost.constant,n*=t.cost.scale)}));var o=t.size,i=Math.round(r+n*o);t.cost=i}},_color:function(){console.log("calculating neighbors"),A.wasmWorld.calculateNeighbors(),console.log("generating colors"),A.wasmWorld.generateColors(),console.log("verifying color solution");var e=!0;A.territories.forEach((function(t){t.neighbors=Array.from(A.wasmWorld.getTerritoryNeighbors(t.id)),t.color=A.wasmWorld.getTerritoryColor(t.id),null!=t.color&&null!=t.color||(console.error("terr ".concat(t.id,": has no color")),e=!1)})),A.territories.forEach((function(t,r){t.neighbors.forEach((function(r){var n=A.territories.get(r);t.color==n.color&&(console.error("terr ".concat(t.id," - ").concat(n.id,": same color ").concat(t.color)),e=!1)}))})),e&&console.log("PASSED COLOR CHECK"),A.renderTerritoryColors=!0,A._updateAllTerritoryElements(),A.renderWorld()},_calculateTerritoriesAtEdge:function(){console.log("calculating neighbors"),A.wasmWorld.calculateNeighbors(),A.territories.forEach((function(e){var t=A.wasmWorld.getTerritoryIsEdge(e.id);e.isEdge=t,e.color=t?1:0})),A.renderTerritoryColors=!0,A._updateAllTerritoryElements(),A.renderWorld()},_getTerritoriesInAABB:function(e,t,r,n){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];console.log("Getting territories from (".concat(e,",").concat(t,") to (").concat(r,",").concat(n,")"));var i=A.wasmWorld.getTerritoriesInAABB(e,t,r,n);if(o){var s,a=H(i);try{for(a.s();!(s=a.n()).done;){var d=s.value,c=A.territories.get(d);void 0!==c&&(c.selected=!0)}}catch(e){a.e(e)}finally{a.f()}A._updateTerritoryElementIds(i),A.renderWorld()}return i},_selectTown:function(e,t){A.selectedTown=e,A.selectedTownIndex=t,A.renderEditor(),A.renderWorld()},_setPainting:function(e){A.enabledPainting=e,A.renderWorld()},_togglePainting:function(){A.enabledPainting=!A.enabledPainting,A.renderWorld()},_startPaint:function(){A.isPainting=!0,A.enabledPainting&&A._paint()},_stopPaint:function(){A.isPainting=!1},_paint:function(){A.isPainting&&void 0!==A.selectedTerritory&&(A.ctrlKey?A._removeCircleToTerritory(A.selectedTerritory.id,A.chunkX,A.chunkY,A.paintRadius):A._addCircleToTerritory(A.selectedTerritory.id,A.chunkX,A.chunkY,A.paintRadius))}};const Z=A;n()}catch(G){n(G)}}))},6251:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,".nodes-scrollbar::-webkit-scrollbar-track {\n    background-color: #111;\n}\n\n.nodes-scrollbar::-webkit-scrollbar {\n    width: 8px;\n    background-color: #222;\n}\n\n.nodes-scrollbar::-webkit-scrollbar-thumb {\n    border-radius: 1px;\n    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0, 0.2);\n    background-color: #222;\n}",""]);const a=s},6347:e=>{e.exports="data:image/svg+xml,%3c!-- Created with Inkscape (http://www.inkscape.org/) --%3e %3csvg width='64pt' height='64pt' shape-rendering='crispEdges' version='1.1' viewBox='0 0 22.578 22.578' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cg fill='%23fff'%3e %3cpath d='m8.46675 4.48106a7.37399 7.37399 0 0 0-3.99079 9.63449 7.37399 7.37399 0 0 0 9.63449 3.99079 7.37399 7.37399 0 0 0 3.99079-9.63449 7.37399 7.37399 0 0 0-9.63449-3.99079zm1.1189 2.70132a4.45011 4.45011 0 0 1 5.81437 2.40837 4.45011 4.45011 0 0 1-2.40837 5.81437 4.45011 4.45011 0 0 1-5.81437-2.40837 4.45011 4.45011 0 0 1 2.40837-5.81437z' style='paint-order:normal'/%3e %3cpath d='m9.52509 4.93894h3.52781l-0.352781-3.88059h-2.82225z'/%3e %3cpath d='m17.6385 9.52458v3.52781l3.88059-0.352781v-2.82225z'/%3e %3cpath d='m13.0529 17.638h-3.52781l0.352781 3.88059h2.82225z'/%3e %3cpath d='m4.93945 13.0524v-3.52781l-3.88059 0.352781v2.82225z'/%3e %3cpath d='m5.55192 8.04595 2.49454-2.49454-2.99345-2.49454-1.99563 1.99563z'/%3e %3cpath d='m14.5315 5.55141 2.49454 2.49454 2.49454-2.99345-1.99563-1.99563z'/%3e %3cpath d='m17.0261 14.531-2.49454 2.49454 2.99345 2.49454 1.99563-1.99563z'/%3e %3cpath d='m8.04646 17.0256-2.49454-2.49454-2.49454 2.99345 1.99563 1.99563z'/%3e %3c/g%3e %3c/svg%3e"},6394:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' id='svg6' sodipodi:docname='icon-option-nation-name.svg' inkscape:version='1.1.1 (3bf5ae0d25, 2021-09-20)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3e %3cdefs id='defs10'%3e %3crect x='4.1539175' y='11.274919' width='78.956723' height='34.780963' id='rect2647' /%3e %3crect x='4.1539173' y='11.274919' width='73.378608' height='34.731806' id='rect2647-4' /%3e %3c/defs%3e %3csodipodi:namedview id='namedview8' pagecolor='%23ffffff' bordercolor='%23999999' borderopacity='1' inkscape:pageshadow='0' inkscape:pageopacity='0' inkscape:pagecheckerboard='0' inkscape:document-units='pt' showgrid='false' inkscape:zoom='8.4257812' inkscape:cx='33.765415' inkscape:cy='53.585536' inkscape:window-width='2400' inkscape:window-height='1321' inkscape:window-x='2391' inkscape:window-y='-9' inkscape:window-maximized='1' inkscape:current-layer='svg6' /%3e %3cmetadata id='metadata2'%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3e %3cdc:title /%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3ctext xml:space='preserve' transform='matrix(0.26458359,0,0,0.26458359,0.49460953,1.2560667)' id='text2645' style='font-style:normal;font-weight:normal;font-size:24px;line-height:1.25;font-family:sans-serif;white-space:pre;shape-inside:url(%23rect2647);fill:%23ffffff;fill-opacity:1;stroke:none'%3e%3ctspan x='4.1542969' y='33.171318' id='tspan7079'%3eNation%3c/tspan%3e%3c/text%3e %3ctext xml:space='preserve' transform='matrix(0.26458359,0,0,0.26458359,1.6705107,8.6193469)' id='text2645-2' style='font-style:normal;font-weight:normal;font-size:24px;line-height:1.25;font-family:sans-serif;white-space:pre;shape-inside:url(%23rect2647-4);fill:%23ffffff;fill-opacity:1;stroke:none'%3e%3ctspan x='4.1542969' y='33.171318' id='tspan7081'%3eName%3c/tspan%3e%3c/text%3e %3c/svg%3e"},6459:(e,t,r)=>{"use strict";r.d(t,{q:()=>g});var n=r(3696),o=r(7516),i=r.n(o),s=(r(5813),r(2674),r(2746),r(6779)),a=r(3354),d=(r(1110),r(7081),r(7424),r(5936),r(4589),r(5304)),c=r(7809),l=r.n(c),u=r(9465),p=r.n(u),m=r(3696);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}i().config.setModuleUrl("ace/mode/javascript_worker",s.A);var h=function(e){var t="nodes-editor-nodes-icon-btn";return e.selected&&(t+=" nodes-editor-nodes-icon-btn-selected"),m.createElement("div",{className:t,onClick:e.onClick},m.createElement("img",{key:e.icon,className:"nodes-editor-nodes-icon-img",src:e.iconSrc,title:e.icon}))},g=function(e){var t,r,o=(t=(0,n.useState)(!0),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,s,a=[],d=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(e){c=!0,o=e}finally{try{if(!d&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],s=o[1],c=(0,n.useRef)(null),u="",g=void 0,w=void 0,v="";void 0!==e.selectedNodeIndex?(w=e.nodesNameList[e.selectedNodeIndex],g=e.nodes.get(w),u=g.icon,v=JSON.stringify(g,null,3)):v=Nodes.defaultNodeString;var y=(0,n.useMemo)((function(){return function(e){var t=[];return e.nodes.forEach((function(r,n){var o=r.icon,i=e.resourceIcons.get(o);t.push(m.createElement("div",{key:n,className:"nodes-editor-nodes-list-item"},m.createElement("div",{className:"nodes-editor-nodes-list-item-icon"},void 0!==i?m.createElement("img",{className:"nodes-editor-nodes-list-item-img",src:i,draggable:!1}):null),m.createElement(d.bo,{className:"nodes-editor-nodes-list-edit-name",value:n,onChange:function(t){return e.renameNode(n,t)},disabled:!e.canRenameNode}),m.createElement("div",{className:"nodes-editor-nodes-list-item-delete",onClick:function(){return e.deleteNode(n)}},m.createElement("img",{className:"nodes-editor-nodes-list-item-x",src:l(),draggable:!1}))))})),m.createElement(d.B8,{list:e.nodesNameList,selected:e.selectedNodeIndex,select:function(t,r){return e.setSelectedNode(t,r)},deselect:function(){},heightOfItem:24},t)}({nodes:e.nodes,resourceIcons:e.resourceIcons,nodesNameList:e.nodesNameList,selectedNodeIndex:e.selectedNodeIndex,setSelectedNode:e.setSelectedNode,renameNode:e.renameNode,deleteNode:e.deleteNode,canRenameNode:i})}),[e.nodesNameList,e.selectedNodeIndex,u]),k=i?"v Resource Node Properties:":"^ Resource Node Properties:",b=(0,n.useMemo)((function(){return function(e){return m.createElement("div",{id:"nodes-editor-nodes-icon-selection",className:"nodes-scrollbar"},Array.from(e.resourceIcons.keys()).map((function(t){return m.createElement(h,{key:t,icon:t,iconSrc:e.resourceIcons.get(t),selected:e.nodeIcon===t,onClick:function(){return e.setNodeIcon(t)}})})))}({resourceIcons:e.resourceIcons,nodeIcon:u,setNodeIcon:function(t){return e.setNodeIcon(w,t)}})}),[w,e.selectedNodeIndex,u]),x=function(t){try{if(void 0!==w){var r=JSON.parse(t);e.setNodeData(w,r)}}catch(e){}},T=function(){null!==c.current&&x(c.current.editor.getValue())},E=(0,n.useMemo)((function(){return function(e){return m.createElement(a.Ay,{ref:e.refEditor,mode:"javascript",theme:"nodes_dark",name:"nodes-code-ace-editor",onFocus:function(){},onBlur:e.handleEditorBlur,onChange:e.writeNodeData,width:"100%",height:"100%",fontSize:13,tabSize:3,wrapEnabled:!0,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:e.editorText,setOptions:{wrap:!0,wrapBehavioursEnabled:!0,showLineNumbers:!0,tabSize:3},editorProps:{$blockScrolling:1/0}})}({refEditor:c,editorText:v,writeNodeData:x,handleEditorBlur:T})}),[v]);return m.createElement(m.Fragment,null,m.createElement("div",{id:"nodes-editor-nodes-header"},m.createElement("div",{className:"nodes-editor-nodes-header-text"},"Node Library:"),m.createElement("div",{className:"nodes-editor-nodes-header-buttons"},m.createElement(d.$n,{className:"nodes-editor-nodes-header-btn",onClick:function(){return e.createNode()},icon:p()}))),m.createElement("div",{id:"nodes-editor-nodes-list"},y),m.createElement("div",{id:"nodes-editor-nodes-editor-folder",onClick:function(){return s(!i)}},k),i?m.createElement(m.Fragment,null,m.createElement("div",{id:"nodes-editor-nodes-choose-icon"},b),m.createElement("div",{id:"nodes-code-editor-container"},E)):null,m.createElement("div",{className:"nodes-editor-help"},m.createElement("div",null,"Help/Controls:"),m.createElement("div",null,"- [Ctrl + Right click]: Add/remove node from territory on map")))}},6544:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' id='svg6' sodipodi:docname='icon-sort-by-alphabetical.svg' inkscape:version='1.1.1 (3bf5ae0d25, 2021-09-20)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3e %3cdefs id='defs10'%3e %3crect x='27.577164' y='29.521708' width='34.471455' height='50.734911' id='rect22032' /%3e %3crect x='4.0496496' y='2.9157477' width='97.19159' height='95.895702' id='rect2449' /%3e %3c/defs%3e %3csodipodi:namedview id='namedview8' pagecolor='%23ffffff' bordercolor='%23999999' borderopacity='1' inkscape:pageshadow='0' inkscape:pageopacity='0' inkscape:pagecheckerboard='0' inkscape:document-units='pt' showgrid='false' inkscape:zoom='4.0000001' inkscape:cx='50.374999' inkscape:cy='62.874998' inkscape:window-width='1920' inkscape:window-height='1051' inkscape:window-x='-9' inkscape:window-y='-9' inkscape:window-maximized='1' inkscape:current-layer='svg6' /%3e %3cmetadata id='metadata2'%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cg aria-label='A' transform='matrix(0.26351282,0,0,0.26351282,3.6124255,-0.37376209)' id='text2447' style='font-size:74.6667px;line-height:1.25;white-space:pre;shape-inside:url(%23rect2449);fill:%23ffffff;fill-opacity:1;stroke-width:1.00406'%3e %3cpath d='M 54.142602,71.036712 H 46.44989 L 41.126971,55.906496 H 17.647793 L 12.324874,71.036712 H 4.9967452 L 24.757171,16.750228 h 9.625005 z M 38.903011,49.708577 29.387382,23.057522 19.835294,49.708577 Z' style='font-size:74.6667px;line-height:1.25;white-space:pre;shape-inside:url(%23rect2449);fill:%23ffffff;fill-opacity:1;stroke-width:1.00406' id='path19625' /%3e %3c/g%3e %3ctext xml:space='preserve' transform='scale(0.26458359)' id='text22030' style='fill:black;fill-opacity:1;line-height:1.25;stroke:none;font-family:sans-serif;font-style:normal;font-weight:normal;font-size:40px;white-space:pre;shape-inside:url(%23rect22032)' /%3e %3ctext xml:space='preserve' style='font-style:normal;font-weight:normal;font-size:10.5833px;line-height:1.25;font-family:sans-serif;fill:%23000000;fill-opacity:1;stroke:none;stroke-width:0.264584' x='11.693053' y='10.009254' id='text24200'%3e%3ctspan sodipodi:role='line' id='tspan24198' style='stroke-width:0.264584' /%3e%3c/text%3e %3c/svg%3e"},6972:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' id='svg6' sodipodi:docname='icon-sort-by-territories.svg' inkscape:version='1.1.1 (3bf5ae0d25, 2021-09-20)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3e %3cdefs id='defs10' /%3e %3csodipodi:namedview id='namedview8' pagecolor='%23ffffff' bordercolor='%23999999' borderopacity='1' inkscape:pageshadow='0' inkscape:pageopacity='0' inkscape:pagecheckerboard='0' inkscape:document-units='pt' showgrid='false' inkscape:zoom='4.3652344' inkscape:cx='28.978971' inkscape:cy='31.040716' inkscape:window-width='1920' inkscape:window-height='1051' inkscape:window-x='-9' inkscape:window-y='-9' inkscape:window-maximized='1' inkscape:current-layer='svg6' /%3e %3cmetadata id='metadata2'%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath d='M 3.7799589,7.0484723 H 6.9843323 V 3.8440989 h 8.5449957 v 5.3406223 h 3.204373 v 6.4087468 h -3.204373 v 3.204373 H 6.9843323 V 13.457219 H 3.7799589 Z' fill='%23ffffff' fill-opacity='0.588235' stroke='%23fdffff' stroke-width='0.610309' id='path4' /%3e %3c/svg%3e"},7073:(e,t,r)=>{"use strict";r.d(t,{v:()=>G});var n=r(3696),o=r(5308),i=r(5304),s=r(5803),a=r.n(s),d=r(9928),c=r.n(d),l=r(7328),u=r.n(l),p=r(8450),m=r.n(p),f=r(1560),h=r.n(f),g=r(2961),w=r.n(g),v=r(6394),y=r.n(v),k=r(8834),b=r.n(k),x=r(6544),T=r.n(x),E=r(2964),_=r.n(E),N=r(6972),I=r.n(N),S=r(4304),C=r.n(S),A=r(6135),R=r.n(A),z=(r(7424),r(5936),r(5292)),O=r.n(z),L=r(9893),P=r.n(L),j=r(9383),W=r.n(j),D=r(6884),F=r.n(D),M=r(9088),B=r.n(M),H=r(7997),K=r.n(H),Y=r(4749),$={};$.styleTagTransform=K(),$.setAttributes=F(),$.insert=W().bind(null,"head"),$.domAPI=P(),$.insertStyleElement=B(),O()(Y.A,$),Y.A&&Y.A.locals&&Y.A.locals,r(7122);var X=r(3696);function J(e,t){if(e){if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q=function(e){var t=[];return e.towns.forEach((function(e){var r=e.color,n=void 0;void 0!==r&&(n="rgb(".concat(r[0],", ").concat(r[1],", ").concat(r[2],")"));var o={backgroundColor:n},i="";void 0!==e.nation&&(i="[".concat(e.nation,"]")),t.push(X.createElement("div",{key:name,className:"nodes-editor-town-list-item"},X.createElement("div",{className:"nodes-editor-town-list-color",style:o}),X.createElement("div",{className:"nodes-editor-town-list-name"},i,"  ",e.name)))})),X.createElement(i.B8,{id:"nodes-editor-town-list",list:e.towns,selected:e.selectedTownIndex,select:function(t,r){return e.selectTown(t,r)},deselect:void 0,heightOfItem:20},t)},V=function(e){var t=[];if(void 0!==e.players){var r,n=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=J(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(s)throw o}}}}(e.players);try{for(n.s();!(r=n.n()).done;){var s=r.value,a=null,d=s.name;s.rank===o.UV?a=X.createElement("img",{className:"nodes-editor-town-player-item-rank",src:C(),draggable:!1,title:"Leader"}):s.rank===o.BE&&(a=X.createElement("img",{className:"nodes-editor-town-player-item-rank",src:R(),draggable:!1,title:"Officer"})),t.push(X.createElement("div",{key:s.name,className:"nodes-editor-town-player-item"},a,X.createElement("div",null,d)))}}catch(e){n.e(e)}finally{n.f()}}return X.createElement(i.B8,{id:"nodes-editor-town-players-list",list:e.players,selected:null,select:void 0,deselect:void 0,heightOfItem:20},t)},Z=function(e){var t=e.node,r=t.hasOwnProperty("income")?Object.keys(t.income):[],n=t.hasOwnProperty("ore")?Object.keys(t.ore):[],o=t.hasOwnProperty("crops")?Object.keys(t.crops):[],i=t.hasOwnProperty("animals")?Object.keys(t.animals):[],s=e.resourceIcons.get(t.icon);return X.createElement("div",{id:"nodes-editor-resource-tooltip"},X.createElement("div",{id:"nodes-editor-resource-tooltip-header"},X.createElement("div",{id:"nodes-editor-resource-tooltip-header-icon"},void 0!==s?X.createElement("img",{id:"nodes-editor-resource-tooltip-header-img",src:s,draggable:!1}):null),X.createElement("div",{id:"nodes-editor-resource-tooltip-header-name"},t.name)),X.createElement("div",{className:"nodes-editor-resource-tooltip-property"},"Income:",0===r.length?X.createElement("div",{className:"nodes-editor-resource-tooltip-property-none"},"None"):null),r.map((function(e){return X.createElement("div",{className:"nodes-editor-resource-tooltip-property-item",key:e},"- ".concat(e,": ").concat(t.income[e]))})),X.createElement("div",{className:"nodes-editor-resource-tooltip-property"},"Ore:",0===n.length?X.createElement("div",{className:"nodes-editor-resource-tooltip-property-none"},"None"):null),n.map((function(e){return X.createElement("div",{className:"nodes-editor-resource-tooltip-property-item",key:e},"- ".concat(e,": ").concat(t.ore[e]))})),X.createElement("div",{className:"nodes-editor-resource-tooltip-property"},"Crops:",0===o.length?X.createElement("div",{className:"nodes-editor-resource-tooltip-property-none"},"None"):null),o.map((function(e){return X.createElement("div",{className:"nodes-editor-resource-tooltip-property-item",key:e},"- ".concat(e,": ").concat(t.crops[e]))})),X.createElement("div",{className:"nodes-editor-resource-tooltip-property"},"Animals:",0===i.length?X.createElement("div",{className:"nodes-editor-resource-tooltip-property-none"},"None"):null),i.map((function(e){return X.createElement("div",{className:"nodes-editor-resource-tooltip-property-item",key:e},"- ".concat(e,": ").concat(t.animals[e]))})))},G=function(e){var t,r,s=(t=(0,n.useState)(void 0),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,s,a=[],d=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(e){c=!0,o=e}finally{try{if(!d&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}(t,r)||J(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=s[0],l=s[1],p=(0,n.useMemo)((function(){return X.createElement(q,{towns:e.towns,townsNameList:e.townsNameList,selectedTownIndex:e.selectedTownIndex,selectedTown:e.selectedTown,selectTown:e.selectTown})}),[e.towns,e.selectedTown]),f=e.selectedTown,g="Town: ".concat(f?f.name:""),v="Nation: ".concat(void 0!==f&&void 0!==f.nation?f.nation:""),k="Territories: ".concat(f?f.territories.length:""),x="Players: ".concat(f?f.residents.length:""),E=(0,n.useMemo)((function(){return X.createElement(V,{players:null==f?void 0:f.residents})}),[e.selectedTown]),N=e.selectedTerritory,S="Name: ".concat(void 0!==N?N.name:""),C="ID: ".concat(N?N.id:""),A="Core: ".concat(N&&N.coreChunk?"".concat(N.coreChunk.x,",").concat(N.coreChunk.y):""),R="Chunks: ".concat(N?N.size:""),z="Cost: ".concat(void 0!==N?N.cost:""),O=void 0!==N?N.nodes:void 0,L=void 0!==O?O.length:0,P=(0,n.useMemo)((function(){return function(e){var t=[];return void 0!==e.selectedTerritory&&e.selectedTerritory.nodes.forEach((function(r){if(e.nodes.has(r)){var n=e.nodes.get(r),o=n.icon,i=e.resourceIcons.get(o);t.push(X.createElement("div",{key:name,className:"nodes-editor-terr-nodes-list-item",onMouseOver:function(){return e.setResourceTooltip(n)},onMouseLeave:function(){return e.setResourceTooltip(void 0)}},X.createElement("div",{className:"nodes-editor-terr-nodes-list-item-icon"},void 0!==i?X.createElement("img",{className:"nodes-editor-terr-nodes-list-item-img",src:i,draggable:!1}):null),X.createElement("div",{className:"nodes-editor-terr-nodes-list-name"},r)))}})),X.createElement(i.B8,{id:"nodes-editor-world-nodes-list",list:e.selectedTerritoryNodes,selected:void 0,select:void 0,deselect:void 0,heightOfItem:20},t)}({nodes:e.nodes,resourceIcons:e.resourceIcons,selectedTerritory:N,selectedTerritoryNodes:O,setResourceTooltip:l})}),[N,L]);return X.createElement(X.Fragment,null,X.createElement("div",{id:"nodes-editor-options-header"},"Map Options:"),X.createElement("div",{id:"nodes-editor-options"},X.createElement(i.$n,{className:"nodes-editor-option-btn",onClick:function(){return e.setRenderTerritoryIcons(!e.renderTerritoryIcons)},icon:a(),pressed:e.renderTerritoryIcons,tooltip:"Show resource icons"}),X.createElement(i.$n,{className:"nodes-editor-option-btn",onClick:function(){return e.setRenderTerritoryId(!e.renderTerritoryId)},icon:c(),pressed:e.renderTerritoryId,tooltip:"Show territory ids"}),X.createElement(i.$n,{className:"nodes-editor-option-btn",onClick:function(){return e.setRenderTerritoryCost(!e.renderTerritoryCost)},icon:u(),pressed:e.renderTerritoryCost,tooltip:"Show territory cost"}),X.createElement(i.$n,{className:"nodes-editor-option-btn",onClick:function(){return e.setRenderTerritoryOpaque(!e.renderTerritoryOpaque)},icon:m(),pressed:e.renderTerritoryOpaque,tooltip:"Solid nation colors"}),X.createElement(i.$n,{className:"nodes-editor-option-btn",onClick:function(){return e.setRenderTerritoryNoBorders(!e.renderTerritoryNoBorders)},icon:h(),pressed:e.renderTerritoryNoBorders,tooltip:"No borders"}),X.createElement(i.$n,{className:"nodes-editor-option-btn",onClick:function(){return e.setRenderTownNames(e.renderTownNames===o.LV?o.J1:o.LV)},icon:w(),pressed:e.renderTownNames===o.LV,tooltip:"Town names"}),X.createElement(i.$n,{className:"nodes-editor-option-btn",onClick:function(){return e.setRenderTownNames(e.renderTownNames===o.wS?o.J1:o.wS)},icon:y(),pressed:e.renderTownNames===o.wS,tooltip:"Nation names"}),X.createElement(i.$n,{className:"nodes-editor-option-btn",onClick:function(){return e.setRenderTerritoryCapitals(!e.renderTerritoryCapitals)},icon:b(),pressed:e.renderTerritoryCapitals,tooltip:"Town Capitals"})),X.createElement("div",{className:"nodes-editor-list-header"},X.createElement("div",{className:"nodes-editor-list-header-text"},"Towns:"),X.createElement("div",{className:"nodes-editor-list-header-buttons"},X.createElement(i.$n,{className:"nodes-editor-nodes-header-btn",onClick:function(){return e.setTownSortKey(o.ug.ALPHABETICAL)},icon:T(),tooltip:"Sort alphabetical"}),X.createElement(i.$n,{className:"nodes-editor-nodes-header-btn",onClick:function(){return e.setTownSortKey(o.ug.PLAYERS)},icon:_(),tooltip:"Sort by player count"}),X.createElement(i.$n,{className:"nodes-editor-nodes-header-btn",onClick:function(){return e.setTownSortKey(o.ug.TERRITORIES)},icon:I(),tooltip:"Sort by territory count"}))),p,X.createElement("div",{id:"nodes-editor-town-info"},X.createElement("div",null,g),X.createElement("div",null,v),X.createElement("div",null,k),X.createElement("div",null,x)),E,X.createElement("div",{id:"nodes-editor-terr-selected-header"},"Selected Territory:"),X.createElement("div",null,S),X.createElement("div",{id:"nodes-editor-world-terr-info"},X.createElement("div",{id:"nodes-editor-world-terr-info-left"},X.createElement("div",null,C),X.createElement("div",null,A)),X.createElement("div",{id:"nodes-editor-world-terr-info-right"},X.createElement("div",null,R),X.createElement("div",null,z))),X.createElement("div",{id:"nodes-editor-nodes-list-container"},X.createElement("div",null,"Nodes:"),P,void 0!==d?X.createElement(Z,{node:d,resourceIcons:e.resourceIcons}):null),X.createElement("div",{className:"nodes-editor-help"},X.createElement("div",null,"Help:"),X.createElement("div",null,"- Select territory with right mouse click to view"),X.createElement("div",null,"- Hover over resource node in list for details")))}},7081:(e,t,r)=>{"use strict";var n=r(5292),o=r.n(n),i=r(9893),s=r.n(i),a=r(9383),d=r.n(a),c=r(6884),l=r.n(c),u=r(9088),p=r.n(u),m=r(7997),f=r.n(m),h=r(9020),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=d().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),o()(h.A,g),h.A&&h.A.locals&&h.A.locals},7122:(e,t,r)=>{"use strict";var n=r(5292),o=r.n(n),i=r(9893),s=r.n(i),a=r(9383),d=r.n(a),c=r(6884),l=r.n(c),u=r(9088),p=r.n(u),m=r(7997),f=r.n(m),h=r(2619),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=d().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),o()(h.A,g),h.A&&h.A.locals&&h.A.locals},7328:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath d='m2.05253 6.06137h3.9447v-3.9447h10.5192v6.5745h3.9447v7.8894h-3.9447v3.9447h-10.5192v-6.5745h-3.9447z' fill='none' stroke='%23fdffff' stroke-width='.705556'/%3e %3cpath d='m9.15235 10.6797q-0.293357 0-0.441488 0.207405-0.145226 0.204265-0.145226 0.615937t0.145226 0.619077q0.148131 0.204263 0.441488 0.204263 0.296262 0 0.441488-0.204263 0.148131-0.207405 0.148131-0.619077t-0.148131-0.615937q-0.145226-0.207405-0.441488-0.207405zm1.38255-2.25319v0.867337q-0.275929-0.141414-0.51991-0.207407-0.24398-0.0691356-0.476342-0.0691356-0.499579 0-0.778414 0.301682-0.278835 0.298539-0.325307 0.889335 0.191699-0.153984 0.415348-0.229404 0.223649-0.078564 0.487961-0.078564 0.665137 0 1.07177 0.421098 0.409539 0.421098 0.409539 1.10303 0 0.754203-0.456011 1.20987-0.456012 0.452522-1.22281 0.452522-0.845218 0-1.30994-0.615934-0.46182-0.619078-0.46182-1.75353 0-1.16273 0.540242-1.82581 0.543147-0.666215 1.48712-0.666215 0.299167 0 0.580906 0.05028 0.281739 0.05028 0.557668 0.150842z' fill='%23fff'/%3e %3cpath d='m11.7316 12.892v-0.867339q0.267216 0.13513 0.511196 0.204265 0.243982 0.06599 0.482151 0.06599 0.49958 0 0.778415-0.298542 0.278835-0.301681 0.328211-0.892475-0.197506 0.157125-0.421155 0.235688-0.223651 0.07857-0.485057 0.07857-0.665138 0-1.07468-0.417957-0.406633-0.421096-0.406633-1.10617 0-0.757349 0.453106-1.21301 0.456012-0.455666 1.2199-0.455666 0.848122 0 1.31285 0.619077 0.464725 0.619077 0.464725 1.75038 0 1.16274-0.543148 1.82895-0.543147 0.663073-1.49002 0.663073-0.304975 0-0.583809-0.05027-0.278835-0.04713-0.546051-0.144555zm1.37965-2.25948q0.293356 0 0.441488-0.204263 0.148132-0.207407 0.148132-0.619078 0-0.408528-0.148132-0.615934-0.148132-0.207407-0.441488-0.207407-0.293358 0-0.441488 0.207407-0.148132 0.207407-0.148132 0.615934 0 0.411671 0.148132 0.619078 0.14813 0.204263 0.441488 0.204263z' fill='%23fff'/%3e %3c/svg%3e"},7332:(e,t,r)=>{"use strict";r.a(e,(async(e,n)=>{try{r.d(t,{b:()=>y});var o=r(3696),i=r(6200),s=r(5304),a=r(1383),d=r.n(a),c=r(7809),l=r.n(c),u=r(9465),p=r.n(u),m=r(6199),f=r.n(m),h=r(719),g=r.n(h),w=(r(7424),r(5936),r(4589),r(7122),r(3696)),v=e([i]);function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,s,a=[],d=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(e){c=!0,o=e}finally{try{if(!d&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}function E(e){if(Array.isArray(e))return e}i=(v.then?(await v)():v)[0];var y=function(e){var t,r=E(t=(0,o.useState)(""))||T(t,2)||b(t,2)||k(),n=r[0],a=r[1],c=e.selectedTerritory,u=function(){void 0!==c&&!0===e.addNodeToTerritory(c.id,n)&&a("")},m=void 0!==c?c.name:"",h="ID: ".concat(void 0!==c?c.id:""),v="Core: ".concat(void 0!==c&&c.coreChunk?"".concat(c.coreChunk.x,",").concat(c.coreChunk.y):""),y="Chunks: ".concat(void 0!==c?c.size:""),x="Cost: ".concat(void 0!==c?c.cost:""),_=void 0!==c?c.nodes:void 0,N=void 0!==_?_.length:0,I=(0,o.useMemo)((function(){return function(e){var t=[];return void 0!==e.selectedTerritory&&e.selectedTerritory.nodes.forEach((function(r){if(e.nodes.has(r)){var n=e.nodes.get(r).icon,o=e.resourceIcons.get(n);t.push(w.createElement("div",{key:r,className:"nodes-editor-terr-nodes-list-item"},w.createElement("div",{className:"nodes-editor-terr-nodes-list-item-icon"},void 0!==o?w.createElement("img",{className:"nodes-editor-terr-nodes-list-item-img",src:o,draggable:!1}):null),w.createElement("div",{className:"nodes-editor-terr-nodes-list-name"},r),w.createElement("div",{className:"nodes-editor-terr-nodes-list-item-delete",onClick:function(){return e.removeNodeFromTerritory(e.selectedTerritory.id,r)}},w.createElement("img",{className:"nodes-editor-terr-nodes-list-item-x",src:l(),draggable:!1}))))}})),w.createElement(s.B8,{id:"nodes-editor-terr-list",list:e.selectedTerritoryNodes,selected:void 0,select:void 0,deselect:void 0,heightOfItem:20},t)}({nodes:e.nodes,resourceIcons:e.resourceIcons,selectedTerritory:c,selectedTerritoryNodes:_,removeNodeFromTerritory:e.removeNodeFromTerritory})}),[c,N]);return w.createElement(w.Fragment,null,w.createElement("div",{id:"nodes-editor-terr-header"},"Territories:"),w.createElement("div",{id:"nodes-editor-terr-chunk"},w.createElement("div",{id:"nodes-editor-terr-chunk-label"},"Chunk:"),w.createElement("div",null,"x: ",e.x),w.createElement("div",null,"z: ",e.z)),w.createElement("div",{id:"nodes-editor-terr-toolbar"},w.createElement("div",{id:"nodes-editor-terr-toolbar-g1"},w.createElement(s.$n,{className:"nodes-editor-terr-tool-btn",onClick:e.createTerritory,icon:p(),tooltip:"Create territory"}),w.createElement(s.$n,{className:"nodes-editor-terr-tool-btn",onClick:function(){return e.deleteTerritory(i.default.selectedTerritories.keys())},icon:d(),tooltip:"Delete territory"})),w.createElement("div",{id:"nodes-editor-terr-toolbar-g2"},w.createElement(s.$n,{className:"nodes-editor-terr-tool-btn",onClick:e.togglePainting,icon:g(),tooltip:"Paint territory chunks"}),w.createElement(s.$n,{className:"nodes-editor-terr-tool-btn",onClick:i.default.mergeSelectedTerritories,icon:f(),tooltip:"Merge territories"}))),w.createElement("div",{id:"nodes-editor-brush-size"},"Brush Radius: ".concat(e.paintRadius.toFixed(2))),w.createElement("div",{id:"nodes-editor-terr-selected-header"},"Selected Territory:"),w.createElement("div",{id:"nodes-editor-terr-selected-name"},w.createElement("div",null,"Name:"),w.createElement(s.bo,{id:"nodes-editor-terr-selected-name-edit",value:m,onChange:function(t){return e.setTerritoryName(c,t)}})),w.createElement("div",null,h),w.createElement("div",null,v),w.createElement("div",null,y),w.createElement("div",null,x),w.createElement("div",null,"Nodes:"),I,w.createElement("div",{id:"nodes-editor-terr-add-node"},w.createElement(s.$n,{className:"nodes-editor-terr-tool-btn",onClick:u,icon:p(),tooltip:"Add resource node"}),w.createElement(s.bo,{className:"nodes-editor-terr-add-node-input",value:n,bubbleChange:!0,onChange:a,onEnterKey:u})),w.createElement("div",{className:"nodes-editor-help"},w.createElement("div",null,"Help/Controls:"),w.createElement("div",null,"- [Right click]: Select territories (when paint mode is off)"),w.createElement("div",null,"- [Space bar]: Turn on/off paint mode"),w.createElement("div",null,"- [Right mouse drag]: Paint chunks"),w.createElement("div",null,"- [Ctrl + right mouse drag]: Erase chunks"),w.createElement("div",null,"- [Shift + mouse drag]: Change brush size"),w.createElement("div",null,"- [A]: While painting will create a new territory")))};n()}catch(_){n(_)}}))},7424:(e,t,r)=>{"use strict";var n=r(5292),o=r.n(n),i=r(9893),s=r.n(i),a=r(9383),d=r.n(a),c=r(6884),l=r.n(c),u=r(9088),p=r.n(u),m=r(7997),f=r.n(m),h=r(6251),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=d().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),o()(h.A,g),h.A&&h.A.locals&&h.A.locals},7809:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.58 22.58' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath d='m3.479 19.1 15.62-15.62' fill='none' stroke='%23fff' stroke-width='1.764'/%3e %3cpath d='m3.479 3.479 15.62 15.62' fill='none' stroke='%23fff' stroke-width='1.764'/%3e %3c/svg%3e"},7865:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.578 22.578' id='svg8' sodipodi:docname='icon-terr-remove-all-owner.svg' inkscape:version='1.1.1 (3bf5ae0d25, 2021-09-20)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3e %3cdefs id='defs12'%3e %3crect x='-17.868456' y='16.723043' width='113.7396' height='73.879195' id='rect4285' /%3e %3cinkscape:path-effect effect='fill_between_many' method='originald' linkedpaths='%23path21161-9,0,1' id='path-effect26602' /%3e %3c/defs%3e %3csodipodi:namedview id='namedview10' pagecolor='%23ffffff' bordercolor='%23999999' borderopacity='1' inkscape:pageshadow='0' inkscape:pageopacity='0' inkscape:pagecheckerboard='0' inkscape:document-units='pt' showgrid='false' inkscape:zoom='4.3652344' inkscape:cx='69.755705' inkscape:cy='57.614318' inkscape:window-width='1920' inkscape:window-height='1051' inkscape:window-x='-9' inkscape:window-y='-9' inkscape:window-maximized='1' inkscape:current-layer='svg8' /%3e %3cmetadata id='metadata2'%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath id='path4' style='color:%23000000;fill:%23d4d4d4;stroke-width:3.77949;-inkscape-stroke:none;fill-opacity:1' d='M 68.230469 11.449219 L 27.984375 51.695312 L 33.335938 51.695312 L 34.925781 56.0625 L 73.884766 17.103516 L 68.230469 11.449219 z M 27.169922 52.509766 L 11.449219 68.230469 L 17.103516 73.884766 L 20.705078 70.283203 L 27.169922 52.509766 z M 30.316406 58.589844 L 29.154297 61.833984 L 30.863281 60.125 L 30.316406 58.589844 z ' transform='scale(0.26458593)' /%3e %3cpath id='path6' style='color:%23000000;fill:%23d4d4d4;stroke-width:3.77949;-inkscape-stroke:none;fill-opacity:1' d='M 17.103516 11.449219 L 11.449219 17.103516 L 46.041016 51.695312 L 49.990234 51.695312 L 49.990234 55.644531 L 63.933594 69.587891 L 63.933594 58.273438 L 17.103516 11.449219 z M 69.285156 63.623047 L 69.285156 72.828125 L 73.884766 68.222656 L 69.285156 63.623047 z ' transform='scale(0.26458593)' /%3e %3cpath d='m 11.063092,20.611724 h -0.945 L 9.4642059,18.753075 H 6.579941 L 5.9260549,20.611724 H 5.0258418 L 7.4532821,13.942981 H 8.6356516 Z M 9.1910069,17.991701 8.0220735,14.717792 6.8486613,17.991701 Z' style='font-size:34.6667px;line-height:1.25;white-space:pre;fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.26458593;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' id='path21161' /%3e %3cpath d='m 16.294181,20.611724 h -4.218909 v -6.668743 h 0.886777 v 5.880497 h 3.332132 z' style='font-size:34.6667px;line-height:1.25;white-space:pre;fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.26458593;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' id='path21163' /%3e %3cpath d='m 21.399867,20.611724 h -4.218909 v -6.668743 h 0.886777 v 5.880497 h 3.332132 z' style='font-size:34.6667px;line-height:1.25;white-space:pre;fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:0.26458593;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none' id='path21165' /%3e %3c/svg%3e"},8407:e=>{e.exports="data:image/svg+xml,%3c!-- Created with Inkscape (http://www.inkscape.org/) --%3e %3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.578 22.578' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath d='m9.1723 11.6483c-1.41121 3.88059-4.58604 1.39806-6.35005 9.51856l4.23348-0.0065c1.002e-4 -3.53434 3.17493-3.87409 4.23328-5.99078 1.05834 2.11669 4.23357 2.45644 4.23348 5.99078l4.23328 0.0065c-1.76381-8.1205-4.93904-5.63797-6.34998-9.51856l-8.7e-5 -3.53434 3.52761 0.00653-5.6443-6.35659-5.6445 6.35659 3.52781-0.00653z' fill='%23fff'/%3e %3c/svg%3e"},8450:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath d='m2.05253 6.06137h3.9447v-3.9447h10.5192v6.5745h3.9447v7.8894h-3.9447v3.9447h-10.5192v-6.5745h-3.9447z' fill='%23fff' fill-opacity='.588235' stroke='%23fdffff' stroke-width='.705556'/%3e %3c/svg%3e"},8834:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.578 22.578' id='svg8' sodipodi:docname='icon-map-capital.svg' inkscape:version='1.1.1 (3bf5ae0d25, 2021-09-20)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3e %3cdefs id='defs12' /%3e %3csodipodi:namedview id='namedview10' pagecolor='%23ffffff' bordercolor='%23999999' borderopacity='1' inkscape:pageshadow='0' inkscape:pageopacity='0' inkscape:pagecheckerboard='0' inkscape:document-units='pt' showgrid='false' inkscape:zoom='5.9579271' inkscape:cx='50.269162' inkscape:cy='60.675466' inkscape:window-width='2400' inkscape:window-height='1321' inkscape:window-x='2391' inkscape:window-y='-9' inkscape:window-maximized='1' inkscape:current-layer='svg8' /%3e %3cmetadata id='metadata2'%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3e %3cdc:title /%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3ccircle style='fill:%23ffffff;fill-opacity:1;stroke:none;stroke-width:2.11669;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1' id='circle4610' cx='11.329322' cy='11.423312' r='10.399511' /%3e %3ccircle style='fill:%23ffffff;fill-opacity:1;stroke:%23000000;stroke-width:2.11669;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1' id='path1785' cx='11.329322' cy='11.423312' r='8.3122854' /%3e %3cpath sodipodi:type='star' style='fill:%23000000;fill-opacity:1;stroke:none;stroke-width:5.48516;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1' id='path1627' inkscape:flatsided='false' sodipodi:sides='5' sodipodi:cx='39.402874' sodipodi:cy='-3.7978673' sodipodi:r1='55.126854' sodipodi:r2='27.563427' sodipodi:arg1='-1.5707963' sodipodi:arg2='-0.9424778' inkscape:rounded='-3.469447e-18' inkscape:randomized='0' d='M 39.402875,-58.924721 55.60425,-26.097148 91.831628,-20.833001 65.617251,4.7197 71.805625,40.800695 39.402874,23.76556 7.000121,40.800694 13.188497,4.7197002 -13.025879,-20.833003 23.201498,-26.097148 Z' transform='matrix(0.12866545,0,0,0.12859678,6.3542666,12.075251)' inkscape:transform-center-y='-0.67695181' /%3e %3c/svg%3e"},8837:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,".leaflet-nodes-pane {\n    z-index: 500;\n}\n\n#nodes-world {\n    z-index: 500;\n}\n\n.leaflet-nodes-pane > svg path {\n    pointer-events: all;\n}",""]);const a=s},8947:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,"/**\n * input-edit.css\n * --------------------------------------------------\n * CSS for input-edit.jsx\n */\n\n.nodes-input-edit {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n}\n\n.nodes-input-edit-input {\n    vertical-align: top;\n    width: 100%;\n    height: 100%;\n    padding: 0;\n    border: 0;\n    text-align: center;\n}\n",""]);const a=s},8989:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.578 22.578' id='svg8' sodipodi:docname='icon-terr-capture.svg' inkscape:version='1.1.1 (3bf5ae0d25, 2021-09-20)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3e %3cdefs id='defs12' /%3e %3csodipodi:namedview id='namedview10' pagecolor='%23ffffff' bordercolor='%23999999' borderopacity='1' inkscape:pageshadow='0' inkscape:pageopacity='0' inkscape:pagecheckerboard='0' inkscape:document-units='pt' showgrid='false' inkscape:zoom='6.1733737' inkscape:cx='57.100059' inkscape:cy='55.804171' inkscape:window-width='1920' inkscape:window-height='1051' inkscape:window-x='-9' inkscape:window-y='-9' inkscape:window-maximized='1' inkscape:current-layer='svg8' /%3e %3cmetadata id='metadata2'%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3crect style='fill:%23fefefe;fill-opacity:1;stroke-width:0.529172' id='rect931' width='0.86424261' height='14.547676' x='4.444901' y='6.2348361' transform='rotate(-12.020893)' /%3e %3cpath style='fill:%23fefefe;fill-opacity:1;stroke:none;stroke-width:0.264586px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1' d='m 7.4632253,4.8655103 1.2519549,5.7142267 c 0,0 2.9154858,0.285315 4.3368058,0.02137 1.93053,-0.358506 5.487382,-2.1419429 5.487382,-2.1419429 L 15.948509,6.2085333 17.095483,2.5958664 c 0,0 -3.505257,1.6428237 -5.382451,2.0393182 -1.388057,0.2931806 -4.2498067,0.2303257 -4.2498067,0.2303257 z' id='path1329' sodipodi:nodetypes='ccscccsc' /%3e %3c/svg%3e"},9020:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1026),o=r.n(n),i=r(278),s=r.n(i)()(o());s.push([e.id,"#nodes-code-ace-editor {\n    flex-grow: 1;\n}\n\n#nodes-code-ace-editor .ace_gutter-cell {\n    padding-left: 12px;\n}\n\n#nodes-code-ace-editor .ace_error {\n    background-position: -2px center;\n}\n\n#nodes-code-ace-editor .ace_scrollbar::-webkit-scrollbar-track {\n    background-color: #111;\n}\n\n#nodes-code-ace-editor .ace_scrollbar::-webkit-scrollbar {\n    width: 8px;\n    background-color: #222;\n}\n\n#nodes-code-ace-editor .ace_scrollbar::-webkit-scrollbar-thumb {\n    border-radius: 1px;\n    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0, 0.2);\n    background-color: #222;\n}\n",""]);const a=s},9234:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e){if("object"!==n(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function s(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var a;function d(e){a=e}function c(e){var t=a.__externref_table_alloc();return a.__wbindgen_export_2.set(t,e),t}function l(e,t){try{return e.apply(this,t)}catch(e){var r=c(e);a.__wbindgen_exn_store(r)}}r.d(t,{$P:()=>E,Ev:()=>F,FG:()=>R,FH:()=>I,Gu:()=>G,HB:()=>H,HK:()=>N,HO:()=>O,Ht:()=>W,Lt:()=>B,NN:()=>M,Ot:()=>D,PR:()=>V,Py:()=>ee,Qn:()=>re,TO:()=>J,Vr:()=>P,bL:()=>q,ep:()=>z,fb:()=>$,hI:()=>j,ii:()=>K,il:()=>A,lI:()=>d,oo:()=>U,qv:()=>Z,vU:()=>Q,vV:()=>L,w6:()=>Y,w9:()=>C,wH:()=>S,x0:()=>X,yc:()=>te}),e=r.hmd(e);var u=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});u.decode();var p=null;function m(e,t){return e>>>=0,u.decode((null!==p&&0!==p.byteLength||(p=new Uint8Array(a.memory.buffer)),p).subarray(e,e+t))}function f(e){return null==e}var h=null;function g(e,t){return e>>>=0,(null!==h&&0!==h.byteLength||(h=new Int32Array(a.memory.buffer)),h).subarray(e/4,e/4+t)}var w=null;function v(){return null!==w&&0!==w.byteLength||(w=new Uint32Array(a.memory.buffer)),w}var y=0;function k(e,t){var r=t(4*e.length,4)>>>0;return v().set(e,r/4),y=e.length,r}function b(e,t){return e>>>=0,v().subarray(e/4,e/4+t)}var x=null;var T="undefined"==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry((function(e){return a.__wbg_indexsampler_free(e>>>0,1)})),E=function(){function e(){o(this,e)}return s(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,T.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();a.__wbg_indexsampler_free(e,0)}},{key:"sample",value:function(){return a.indexsampler_sample(this.__wbg_ptr)>>>0}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,T.register(r,r.__wbg_ptr,r),r}},{key:"fromWeights",value:function(t,r){var n,o,i,s=(n=r,o=a.__wbindgen_malloc,i=o(8*n.length,8)>>>0,(null!==x&&0!==x.byteLength||(x=new Float64Array(a.memory.buffer)),x).set(n,i/8),y=n.length,i),d=y,c=a.indexsampler_fromWeights(f(t)?4294967297:t>>>0,s,d);return e.__wrap(c)}}]),e}(),_="undefined"==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry((function(e){return a.__wbg_world_free(e>>>0,1)})),N=function(){function e(t){o(this,e);var r=a.world_new(t);return this.__wbg_ptr=r>>>0,_.register(this,this.__wbg_ptr,this),this}return s(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,_.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();a.__wbg_world_free(e,0)}},{key:"clear",value:function(){a.world_clear(this.__wbg_ptr)}},{key:"getTerritoryIdCounter",value:function(){return a.world_getTerritoryIdCounter(this.__wbg_ptr)>>>0}},{key:"setTerritoryIdCounter",value:function(e){a.world_setTerritoryIdCounter(this.__wbg_ptr,e)}},{key:"getNewTerritoryId",value:function(){return a.world_getNewTerritoryId(this.__wbg_ptr)>>>0}},{key:"createTerritory",value:function(e){return a.world_createTerritory(this.__wbg_ptr,f(e)?4294967297:e>>>0)>>>0}},{key:"deleteTerritory",value:function(e){a.world_deleteTerritory(this.__wbg_ptr,e)}},{key:"getTerritorySize",value:function(e){var t=a.world_getTerritorySize(this.__wbg_ptr,e);return 4294967297===t?void 0:t}},{key:"getTerritoryChunksBuffer",value:function(e){var t=a.world_getTerritoryChunksBuffer(this.__wbg_ptr,e),r=g(t[0],t[1]).slice();return a.__wbindgen_free(t[0],4*t[1],4),r}},{key:"getTerritoryBorder",value:function(e){var t=a.world_getTerritoryBorder(this.__wbg_ptr,e),r=g(t[0],t[1]).slice();return a.__wbindgen_free(t[0],4*t[1],4),r}},{key:"listTerritories",value:function(){a.world_listTerritories(this.__wbg_ptr)}},{key:"addCoordsToTerritory",value:function(e,t){var r=k(t,a.__wbindgen_malloc),n=y;return 0!==a.world_addCoordsToTerritory(this.__wbg_ptr,e,r,n)}},{key:"removeCoords",value:function(e){var t=k(e,a.__wbindgen_malloc),r=y;a.world_removeCoords(this.__wbg_ptr,t,r)}},{key:"addCircleToTerritory",value:function(e,t,r,n){return 0!==a.world_addCircleToTerritory(this.__wbg_ptr,e,t,r,n)}},{key:"removeCircleToTerritory",value:function(e,t,r,n){return 0!==a.world_removeCircleToTerritory(this.__wbg_ptr,e,t,r,n)}},{key:"calculateNeighbors",value:function(){a.world_calculateNeighbors(this.__wbg_ptr)}},{key:"getTerritoryNeighbors",value:function(e){var t=a.world_getTerritoryNeighbors(this.__wbg_ptr,e),r=g(t[0],t[1]).slice();return a.__wbindgen_free(t[0],4*t[1],4),r}},{key:"generateColors",value:function(){a.world_generateColors(this.__wbg_ptr)}},{key:"getTerritoryColor",value:function(e){var t=a.world_getTerritoryColor(this.__wbg_ptr,e);return 16777215===t?void 0:t}},{key:"getTerritoryIsEdge",value:function(e){var t=a.world_getTerritoryIsEdge(this.__wbg_ptr,e);return 16777215===t?void 0:0!==t}},{key:"getTerritoriesInAABB",value:function(e,t,r,n){var o=a.world_getTerritoriesInAABB(this.__wbg_ptr,e,t,r,n),i=b(o[0],o[1]).slice();return a.__wbindgen_free(o[0],4*o[1],4),i}},{key:"mergeTerritories",value:function(e){var t=k(e,a.__wbindgen_malloc),r=y,n=a.world_mergeTerritories(this.__wbg_ptr,t,r);return 4294967297===n?void 0:n}},{key:"subdivideIntoRandomTerritories",value:function(e,t,r,n,o,i,s,d,c){var l,u=a.world_subdivideIntoRandomTerritories(this.__wbg_ptr,e,t,r,n,f(o)?4294967297:o>>>0,i,s,d,c);return 0!==u[0]&&(l=b(u[0],u[1]).slice(),a.__wbindgen_free(u[0],4*u[1],4)),l}}]),e}();function I(e){return e.buffer}function S(){return l((function(e,t){return e.call(t)}),arguments)}function C(){return l((function(e,t,r){return e.call(t,r)}),arguments)}function A(e){return e.crypto}function R(){return l((function(e,t){e.getRandomValues(t)}),arguments)}function z(e,t){console.log(m(e,t))}function O(e){return e.msCrypto}function L(e){return new Uint8Array(e)}function P(e,t){return new Function(m(e,t))}function j(e,t,r){return new Uint8Array(e,t>>>0,r>>>0)}function W(e){return new Uint8Array(e>>>0)}function D(e){return e.node}function F(e){return e.process}function M(){return l((function(e,t){e.randomFillSync(t)}),arguments)}function B(){return l((function(){return e.require}),arguments)}function H(e,t,r){e.set(t,r>>>0)}function K(){var e=void 0===r.g?null:r.g;return f(e)?0:c(e)}function Y(){var e="undefined"==typeof globalThis?null:globalThis;return f(e)?0:c(e)}function $(){var e="undefined"==typeof self?null:self;return f(e)?0:c(e)}function X(){var e="undefined"==typeof window?null:window;return f(e)?0:c(e)}function J(e,t,r){return e.subarray(t>>>0,r>>>0)}function U(e){return e.versions}function q(){var e=a.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)}function V(e){return"function"==typeof e}function Z(e){var t=e;return"object"===n(t)&&null!==t}function G(e){return"string"==typeof e}function Q(e){return void 0===e}function ee(){return a.memory}function te(e,t){return m(e,t)}function re(e,t){throw new Error(m(e,t))}},9306:(e,t,r)=>{"use strict";r.d(t,{u:()=>Q});var n=r(3696),o=r(5308),i=r(5304),s=r(1383),a=r.n(s),d=r(7809),c=r.n(d),l=r(7865),u=r.n(l),p=r(4480),m=r.n(p),f=r(9465),h=r.n(f),g=r(3189),w=r.n(g),v=r(8989),y=r.n(v),k=r(4304),b=r.n(k),x=r(6135),T=r.n(x),E=r(2286),_=r.n(E),N=r(6544),I=r.n(N),S=r(2964),C=r.n(S),A=r(6972),R=r.n(A),z=(r(7424),r(5936),r(5292)),O=r.n(z),L=r(9893),P=r.n(L),j=r(9383),W=r.n(j),D=r(6884),F=r.n(D),M=r(9088),B=r.n(M),H=r(7997),K=r.n(H),Y=r(4200),$={};$.styleTagTransform=K(),$.setAttributes=F(),$.insert=W().bind(null,"head"),$.domAPI=P(),$.insertStyleElement=B(),O()(Y.A,$),Y.A&&Y.A.locals&&Y.A.locals,r(7122);var X=r(3696);function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,s,a=[],d=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);d=!0);}catch(e){c=!0,o=e}finally{try{if(!d&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var V=function(e){var t=e.enabled,r=e.color,n=e.setLocalColor,o=e.setColor,i=e.setColorPicker,s=void 0;void 0!==r&&(s="rgb(".concat(r[0],", ").concat(r[1],", ").concat(r[2],")"));var a,d={backgroundColor:s},c=function(e){o([e.r,e.g,e.b]),i(!1,r,0,0,(function(e){return console.log("ColorPicker.onChange",e)}),(function(e){return console.log("ColorPicker.onExit",e)}))};return a=t?function(e){i(!0,r,e.clientY-50,e.clientX+10,(function(e){return n([e.r,e.g,e.b])}),c)}:null,X.createElement("div",{className:"nodes-editor-town-list-color",style:d,onClick:a})},Z=function(e){var t=e.towns,r=e.selectedTownIndex,n=e.selectTown,o=e.deleteTown,s=[];return t.forEach((function(e){var t=e.color,r=void 0;void 0!==t&&(r="rgb(".concat(t[0],", ").concat(t[1],", ").concat(t[2],")"));var n={backgroundColor:r},i="";void 0!==e.nation&&(i="[".concat(e.nation,"]")),s.push(X.createElement("div",{key:e.name,className:"nodes-editor-terr-nodes-list-item"},X.createElement("div",{className:"nodes-editor-town-list-color",style:n}),X.createElement("div",{className:"nodes-editor-terr-nodes-list-name"},i,"  ",e.name),X.createElement("div",{className:"nodes-editor-terr-nodes-list-item-delete",onClick:function(){return o(e.name)}},X.createElement("img",{className:"nodes-editor-terr-nodes-list-item-x",src:c(),draggable:!1}))))})),X.createElement(i.B8,{id:"nodes-editor-town-list",list:t,selected:r,select:function(e,t){return n(e,t)},deselect:void 0,heightOfItem:20},s)},G=function(e){var t=e.players,r=e.selectedTown,n=e.removeTownResident,s=[];if(void 0!==t){var a,d=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=U(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(s)throw o}}}}(t);try{var l=function(){var e=a.value,t=null,i=e.name;e.rank===o.UV?t=X.createElement("img",{className:"nodes-editor-town-player-item-rank",src:b(),draggable:!1,title:"Leader"}):e.rank===o.BE&&(t=X.createElement("img",{className:"nodes-editor-town-player-item-rank",src:T(),draggable:!1,title:"Officer"})),s.push(X.createElement("div",{key:e.name,className:"nodes-editor-terr-nodes-list-item"},t,X.createElement("div",{className:"nodes-editor-terr-nodes-list-name"},i),X.createElement("div",{className:"nodes-editor-terr-nodes-list-item-delete",onClick:function(){return n(r,e.name)}},X.createElement("img",{className:"nodes-editor-terr-nodes-list-item-x",src:c(),draggable:!1}))))};for(d.s();!(a=d.n()).done;)l()}catch(e){d.e(e)}finally{d.f()}}return X.createElement(i.B8,{id:"nodes-editor-town-players-list",list:t,selected:null,select:void 0,deselect:void 0,heightOfItem:20},s)},Q=function(e){var t=e.saveTowns,r=e.towns,s=e.townsNameList,d=e.selectedTownIndex,c=e.selectedTown,l=e.selectTown,p=e.setTownSortKey,f=e.createTown,g=e.deleteTown,v=e.setTownName,k=e.setTownNationFromName,b=e.setTownHome,x=e.addTownResident,T=e.removeTownResident,E=e.setSelectedTownHomeToSelectedTerritory,N=e.addSelectedTownSelectedTerritories,S=e.addSelectedTownSelectedTerritoriesAsCaptured,A=e.removeSelectedTownSelectedTerritories,z=e.removeSelectedTerritoriesOwned,O=e.removeSelectedTerritoriesCaptured,L=e.setSelectedTownColor,P=e.setSelectedTownNationColor,j=e.setColorPicker,W=J((0,n.useState)(""),2),D=W[0],F=W[1],M=J((0,n.useState)([0,0,0]),2),B=M[0],H=M[1],K=J((0,n.useState)([0,0,0]),2),Y=K[0],$=K[1];(0,n.useEffect)((function(){void 0!==c?(H(c.colorTown),$(c.colorNation)):(H([0,0,0]),$([0,0,0]))}),[c]);var U=function(){void 0!==c&&""!==D&&(x(c,D),F(""))},q=(0,n.useMemo)((function(){return X.createElement(Z,{towns:r,townsNameList:s,selectedTownIndex:d,selectedTown:c,selectTown:l,deleteTown:g})}),[r,c,null==c?void 0:c.nation,null==c?void 0:c.color]),Q=c?"(".concat(c.territories.length," Territories)"):"",ee="Players: ".concat(c?c.residents.length:""),te=(c&&c.color,c&&c.colorTown,c&&c.colorNation,(0,n.useMemo)((function(){return X.createElement(G,{players:null==c?void 0:c.residents,selectedTown:c,removeTownResident:T})}),[null==c?void 0:c.residents]));return X.createElement(X.Fragment,null,X.createElement("div",{className:"nodes-editor-list-header"},X.createElement("div",{className:"nodes-editor-list-header-text"},"Towns:"),X.createElement("div",{className:"nodes-editor-list-header-buttons"},X.createElement(i.$n,{className:"nodes-editor-nodes-header-btn",onClick:function(){return p(o.ug.ALPHABETICAL)},icon:I(),tooltip:"Sort alphabetical"}),X.createElement(i.$n,{className:"nodes-editor-nodes-header-btn",onClick:function(){return p(o.ug.PLAYERS)},icon:C(),tooltip:"Sort by player count"}),X.createElement(i.$n,{className:"nodes-editor-nodes-header-btn",onClick:function(){return p(o.ug.TERRITORIES)},icon:R(),tooltip:"Sort by territory count"}),X.createElement(i.$n,{className:"nodes-editor-nodes-header-btn",onClick:function(){return f()},icon:h(),tooltip:"Create new town"}),X.createElement(i.$n,{className:"nodes-editor-nodes-header-btn",onClick:t,icon:_(),tooltip:"Download towns.json"}))),q,X.createElement("div",{className:"nodes-editor-setting-field"},X.createElement("div",null,"Town:"),X.createElement(i.bo,{className:"nodes-editor-setting-input",value:c?c.name:"",onChange:function(e){return v(c,e)}}),X.createElement(V,{enabled:void 0!==c,color:B,setColor:L,setLocalColor:H,setColorPicker:j})),X.createElement("div",{className:"nodes-editor-setting-field"},X.createElement("div",null,"Nation:"),X.createElement(i.bo,{className:"nodes-editor-setting-input",value:null!=c&&c.nation?c.nation:"",onChange:function(e){return k(c,e)}}),X.createElement(V,{enabled:void 0!==c,color:Y,setColor:P,setLocalColor:$,setColorPicker:j})),X.createElement("div",{className:"nodes-editor-setting-field"},X.createElement("div",null,"Home Terr ID:"),X.createElement(i.bo,{className:"nodes-editor-setting-input",value:c?c.home:"",onChange:function(e){return b(c,e)}})),X.createElement("div",{className:"nodes-editor-towns-header"},"Territory operations ".concat(Q)),X.createElement("div",{id:"nodes-editor-terr-toolbar"},X.createElement("div",{id:"nodes-editor-terr-toolbar-g1"},X.createElement(i.$n,{className:"nodes-editor-terr-tool-btn",onClick:E,icon:w(),tooltip:"Set town home to selected territory"}),X.createElement(i.$n,{className:"nodes-editor-terr-tool-btn",onClick:S,icon:y(),tooltip:"Capture selected for town"}),X.createElement(i.$n,{className:"nodes-editor-terr-tool-btn",onClick:N,icon:h(),tooltip:"Add selected to town"}),X.createElement(i.$n,{className:"nodes-editor-terr-tool-btn",onClick:A,icon:a(),tooltip:"Remove selected from town"})),X.createElement("div",{id:"nodes-editor-terr-toolbar-g2"},X.createElement(i.$n,{className:"nodes-editor-terr-tool-btn",onClick:O,icon:m(),tooltip:"Uncapture selected from all towns"}),X.createElement(i.$n,{className:"nodes-editor-terr-tool-btn",onClick:z,icon:u(),tooltip:"Remove selected from all towns"}))),X.createElement("div",{className:"nodes-editor-towns-header"},ee),te,X.createElement("div",{id:"nodes-editor-terr-add-node"},X.createElement(i.$n,{className:"nodes-editor-terr-tool-btn",onClick:U,icon:h(),tooltip:"Add player to town"}),X.createElement(i.bo,{className:"nodes-editor-terr-add-node-input",value:D,bubbleChange:!0,onChange:F,onEnterKey:U})))}},9465:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath d='m11.2889 18.0887v-13.5996' fill='none' stroke='%23fffffc' stroke-width='2.11667'/%3e %3cpath d='m4.48909 11.2889h13.5996' fill='none' stroke='%23fffffc' stroke-width='2.11667'/%3e %3c/svg%3e"},9615:(e,t,r)=>{"use strict";var n=r(5292),o=r.n(n),i=r(9893),s=r.n(i),a=r(9383),d=r.n(a),c=r(6884),l=r.n(c),u=r(9088),p=r.n(u),m=r(7997),f=r.n(m),h=r(8837),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=d().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),o()(h.A,g),h.A&&h.A.locals&&h.A.locals},9928:e=>{e.exports="data:image/svg+xml,%3csvg width='64pt' height='64pt' version='1.1' viewBox='0 0 22.5778 22.5778' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e %3cmetadata%3e %3crdf:RDF%3e %3ccc:Work rdf:about=''%3e %3cdc:format%3eimage/svg+xml%3c/dc:format%3e %3cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3e %3cdc:title/%3e %3c/cc:Work%3e %3c/rdf:RDF%3e %3c/metadata%3e %3cpath d='m2.05253 6.06137h3.9447v-3.9447h10.5192v6.5745h3.9447v7.8894h-3.9447v3.9447h-10.5192v-6.5745h-3.9447z' fill='none' stroke='%23fff' stroke-width='.705556'/%3e %3cg fill='%23fff' stroke-width='.264584' aria-label='id'%3e %3cpath d='m8.25532 9.53455h1.23418v3.86111h-1.23418zm0-1.50308h1.23418v1.00665h-1.23418z'/%3e %3cpath d='m13.3092 10.0999v-2.06845h1.24107v5.36419h-1.24107v-0.558482q-0.255109 0.341295-0.56193 0.499876-0.306821 0.158582-0.710169 0.158582-0.713617 0-1.17212-0.565378-0.458507-0.568825-0.458507-1.46171 0-0.892883 0.458507-1.45826 0.458507-0.568825 1.17212-0.568825 0.399901 0 0.706722 0.162029 0.310268 0.158581 0.565377 0.496429zm-0.813592 2.49938q0.396454 0 0.603299-0.289584 0.210293-0.289584 0.210293-0.841171 0-0.551588-0.210293-0.841172-0.206845-0.289583-0.603299-0.289583-0.393006 0-0.603299 0.289583-0.206845 0.289584-0.206845 0.841172 0 0.551587 0.206845 0.841171 0.210293 0.289584 0.603299 0.289584z'/%3e %3c/g%3e %3c/svg%3e"},9936:(e,t,r)=>{"use strict";var n=r(9234);e.exports=r.v(t,e.id,"2af38ce00631e4791d48",{"./wasm_main_bg.js":{__wbg_log_1a2fb72dfc6bb4d1:n.ep,__wbg_crypto_ed58b8e10a292839:n.il,__wbindgen_is_object:n.qv,__wbg_process_5c1d670bc53614b8:n.Ev,__wbg_versions_c71aa1626a93e0a1:n.oo,__wbg_node_02999533c4ea02e3:n.Ot,__wbindgen_is_string:n.Gu,__wbg_require_79b1e9274cde3c87:n.Lt,__wbindgen_is_function:n.PR,__wbindgen_string_new:n.yc,__wbg_msCrypto_0a36e2ec3a343d26:n.HO,__wbg_randomFillSync_ab2cfe79ebbf2740:n.NN,__wbg_getRandomValues_bcb4912f16000dc4:n.FG,__wbg_newnoargs_105ed471475aaf50:n.Vr,__wbg_call_672a4d21634d4a24:n.wH,__wbindgen_is_undefined:n.vU,__wbg_call_7cccdd69e0791ae2:n.w9,__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0:n.w6,__wbg_static_accessor_SELF_37c5d418e4bf5819:n.fb,__wbg_static_accessor_WINDOW_5de37043a91a9c40:n.x0,__wbg_static_accessor_GLOBAL_88a902d13a557d07:n.ii,__wbg_buffer_609cc3eee51ed158:n.FH,__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a:n.hI,__wbg_new_a12002a7f91c75be:n.vV,__wbg_set_65595bdd868b3009:n.HB,__wbg_newwithlength_a381634e90c276d4:n.Ht,__wbg_subarray_aa9065fa9dc5df96:n.TO,__wbindgen_throw:n.Qn,__wbindgen_memory:n.Py,__wbindgen_init_externref_table:n.bL}})}}]);